<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>P</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.2.8' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/127.html#L15'>P</a>                  15 core/asm.c     PNAsm *potion_asm_new(Potion *P) {</span>
<span class='curline'><a href='../S/127.html#L21'>P</a>                  21 core/asm.c     PNAsm *potion_asm_clear(Potion *P, PNAsm * volatile asmb) {</span>
<span class='curline'><a href='../S/127.html#L27'>P</a>                  27 core/asm.c     PNAsm *potion_asm_put(Potion *P, PNAsm * volatile asmb, PN val, size_t len) {</span>
<span class='curline'><a href='../S/127.html#L43'>P</a>                  43 core/asm.c     PNAsm *potion_asm_op(Potion *P, PNAsm * volatile asmb, u8 ins, int _a, int _b) {</span>
<span class='curline'><a href='../S/127.html#L56'>P</a>                  56 core/asm.c     PNAsm *potion_asm_write(Potion *P, PNAsm * volatile asmb, char *str, size_t len) {</span>
<span class='curline'><a href='../S/132.html#L97'>P</a>                  97 core/asm.h     #define ASM(ins) *asmp = potion_asm_put(P, *asmp, (PN)(ins), sizeof(u8))</span>
<span class='curline'><a href='../S/132.html#L98'>P</a>                  98 core/asm.h     #define ASM2(pn) *asmp = potion_asm_put(P, *asmp, (PN)(pn), 2)</span>
<span class='curline'><a href='../S/132.html#L99'>P</a>                  99 core/asm.h     #define ASMI(pn) *asmp = potion_asm_put(P, *asmp, (PN)(pn), sizeof(int))</span>
<span class='curline'><a href='../S/132.html#L100'>P</a>                 100 core/asm.h     #define ASMN(pn) *asmp = potion_asm_put(P, *asmp, (PN)(pn), sizeof(PN))</span>
<span class='curline'><a href='../S/133.html#L28'>P</a>                  28 core/ast.c     PN potion_source(Potion *P, u8 p, PN a, PN b, PN c) {</span>
<span class='curline'><a href='../S/133.html#L42'>P</a>                  42 core/ast.c     PN potion_source_name(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/133.html#L44'>P</a>                  44 core/ast.c       return potion_str(P, potion_ast_names[t-&gt;part]);</span>
<span class='curline'><a href='../S/133.html#L49'>P</a>                  49 core/ast.c     PN potion_source_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/133.html#L52'>P</a>                  52 core/ast.c       PN out = potion_byte_str(P, potion_ast_names[t-&gt;part]);</span>
<span class='curline'><a href='../S/133.html#L55'>P</a>                  55 core/ast.c         pn_printf(P, out, " ");</span>
<span class='curline'><a href='../S/133.html#L56'>P</a>                  56 core/ast.c         if (i == 0 &amp;&amp; n &gt; 1) pn_printf(P, out, "(");</span>
<span class='curline'><a href='../S/133.html#L63'>P</a>                  63 core/ast.c         potion_bytes_obj_string(P, out, t-&gt;a[i]);</span>
<span class='curline'><a href='../S/133.html#L70'>P</a>                  70 core/ast.c           pn_printf(P, out, ")");</span>
<span class='curline'><a href='../S/133.html#L76'>P</a>                  76 core/ast.c     void potion_source_init(Potion *P) {</span>
<span class='curline'><a href='../S/134.html#L58'>P</a>                  58 core/ast.h     #define PN_AST(T, A)  potion_source(P, AST_##T, A, PN_NIL, PN_NIL)</span>
<span class='curline'><a href='../S/134.html#L59'>P</a>                  59 core/ast.h     #define PN_AST2(T, A, B)  potion_source(P, AST_##T, A, B, PN_NIL)</span>
<span class='curline'><a href='../S/134.html#L60'>P</a>                  60 core/ast.h     #define PN_OP(T, A, B)    potion_source(P, T, A, B, PN_NIL)</span>
<span class='curline'><a href='../S/134.html#L61'>P</a>                  61 core/ast.h     #define PN_AST3(T, A, B, C)  potion_source(P, AST_##T, A, B, C)</span>
<span class='curline'><a href='../S/134.html#L71'>P</a>                  71 core/ast.h           if (P-&gt;unclosed == endname) { P-&gt;unclosed = PN_NIL; } \</span>
<span class='curline'><a href='../S/135.html#L13'>P</a>                  13 core/callcc.c  PN potion_continuation_yield(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/135.html#L15'>P</a>                  15 core/callcc.c    PN *start, *end, *sp1 = P-&gt;mem-&gt;cstack;</span>
<span class='curline'><a href='../S/135.html#L87'>P</a>                  87 core/callcc.c  PN potion_callcc(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/135.html#L90'>P</a>                  90 core/callcc.c    PN *start, *sp1 = P-&gt;mem-&gt;cstack, *sp2, *sp3;</span>
<span class='curline'><a href='../S/135.html#L136'>P</a>                 136 core/callcc.c  void potion_cont_init(Potion *P) {</span>
<span class='curline'><a href='../S/136.html#L18'>P</a>                  18 core/compile.c #define PN_ASM1(ins, _a)     f-&gt;asmb = (PN)potion_asm_op(P, (PNAsm *)f-&gt;asmb, (u8)ins, (int)_a, 0)</span>
<span class='curline'><a href='../S/136.html#L19'>P</a>                  19 core/compile.c #define PN_ASM2(ins, _a, _b) f-&gt;asmb = (PN)potion_asm_op(P, (PNAsm *)f-&gt;asmb, (u8)ins, (int)_a, (int)_b)</span>
<span class='curline'><a href='../S/136.html#L40'>P</a>                  40 core/compile.c PN potion_proto_tree(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/136.html#L47'>P</a>                  47 core/compile.c PN potion_proto_call(Potion *P, PN cl, PN self, PN args) {</span>
<span class='curline'><a href='../S/136.html#L48'>P</a>                  48 core/compile.c   return potion_vm(P, self, P-&gt;lobby, args, 0, NULL);</span>
<span class='curline'><a href='../S/136.html#L53'>P</a>                  53 core/compile.c PN potion_proto_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/136.html#L58'>P</a>                  58 core/compile.c   PN out = potion_byte_str(P, "; function definition");</span>
<span class='curline'><a href='../S/136.html#L60'>P</a>                  60 core/compile.c   pn_printf(P, out, ": %p; %u bytes\n", t, PN_FLEX_SIZE(t-&gt;asmb));</span>
<span class='curline'><a href='../S/136.html#L62'>P</a>                  62 core/compile.c   pn_printf(P, out, ": %u bytes\n", PN_FLEX_SIZE(t-&gt;asmb));</span>
<span class='curline'><a href='../S/136.html#L64'>P</a>                  64 core/compile.c   pn_printf(P, out, "; (");</span>
<span class='curline'><a href='../S/136.html#L68'>P</a>                  68 core/compile.c         pn_printf(P, out, ". ");</span>
<span class='curline'><a href='../S/136.html#L70'>P</a>                  70 core/compile.c         pn_printf(P, out, "| ");</span>
<span class='curline'><a href='../S/136.html#L72'>P</a>                  72 core/compile.c         pn_printf(P, out, "=%c, ", (int)PN_INT(v));</span>
<span class='curline'><a href='../S/136.html#L74'>P</a>                  74 core/compile.c       potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L76'>P</a>                  76 core/compile.c   pn_printf(P, out, ") %ld registers\n", PN_INT(t-&gt;stack));</span>
<span class='curline'><a href='../S/136.html#L78'>P</a>                  78 core/compile.c     pn_printf(P, out, ".path /");</span>
<span class='curline'><a href='../S/136.html#L80'>P</a>                  80 core/compile.c     potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L81'>P</a>                  81 core/compile.c     pn_printf(P, out, " ; %u\n", i);</span>
<span class='curline'><a href='../S/136.html#L84'>P</a>                  84 core/compile.c     pn_printf(P, out, ".local ");</span>
<span class='curline'><a href='../S/136.html#L85'>P</a>                  85 core/compile.c     potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L86'>P</a>                  86 core/compile.c     pn_printf(P, out, " ; %u\n", i);</span>
<span class='curline'><a href='../S/136.html#L89'>P</a>                  89 core/compile.c     pn_printf(P, out, ".upval ");</span>
<span class='curline'><a href='../S/136.html#L90'>P</a>                  90 core/compile.c     potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L91'>P</a>                  91 core/compile.c     pn_printf(P, out, " ; %u\n", i);</span>
<span class='curline'><a href='../S/136.html#L94'>P</a>                  94 core/compile.c     pn_printf(P, out, ".value ");</span>
<span class='curline'><a href='../S/136.html#L95'>P</a>                  95 core/compile.c     potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L96'>P</a>                  96 core/compile.c     pn_printf(P, out, " ; %u\n", i);</span>
<span class='curline'><a href='../S/136.html#L99'>P</a>                  99 core/compile.c     potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/136.html#L104'>P</a>                 104 core/compile.c     int width = pn_printf(P, out, "[%*u] %-8s %d",</span>
<span class='curline'><a href='../S/136.html#L108'>P</a>                 108 core/compile.c       width += pn_printf(P, out, " %d", PN_OP_AT(t-&gt;asmb, x).b);</span>
<span class='curline'><a href='../S/136.html#L111'>P</a>                 111 core/compile.c       pn_printf(P, out, "%*s", commentoffset - width, "");</span>
<span class='curline'><a href='../S/136.html#L113'>P</a>                 113 core/compile.c       pn_printf(P, out, " ");</span>
<span class='curline'><a href='../S/136.html#L118'>P</a>                 118 core/compile.c         pn_printf(P, out, "; to %d", num + PN_OP_AT(t-&gt;asmb, x).a + 1);</span>
<span class='curline'><a href='../S/136.html#L122'>P</a>                 122 core/compile.c         pn_printf(P, out, "; to %d", num + PN_OP_AT(t-&gt;asmb, x).b + 1);</span>
<span class='curline'><a href='../S/136.html#L125'>P</a>                 125 core/compile.c         pn_printf(P, out, "; ");</span>
<span class='curline'><a href='../S/136.html#L126'>P</a>                 126 core/compile.c         potion_bytes_obj_string(P, out, PN_OP_AT(t-&gt;asmb, x).b);</span>
<span class='curline'><a href='../S/136.html#L129'>P</a>                 129 core/compile.c         pn_printf(P, out, "; ");</span>
<span class='curline'><a href='../S/136.html#L130'>P</a>                 130 core/compile.c         potion_bytes_obj_string(P, out, PN_TUPLE_AT(t-&gt;values, PN_OP_AT(t-&gt;asmb, x).b));</span>
<span class='curline'><a href='../S/136.html#L134'>P</a>                 134 core/compile.c         pn_printf(P, out, "; ");</span>
<span class='curline'><a href='../S/136.html#L135'>P</a>                 135 core/compile.c         potion_bytes_obj_string(P, out, PN_TUPLE_AT(t-&gt;locals, PN_OP_AT(t-&gt;asmb, x).b));</span>
<span class='curline'><a href='../S/136.html#L138'>P</a>                 138 core/compile.c     pn_printf(P, out, "\n");</span>
<span class='curline'><a href='../S/136.html#L142'>P</a>                 142 core/compile.c   pn_printf(P, out, "; function end\n");</span>
<span class='curline'><a href='../S/136.html#L155'>P</a>                 155 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, reg); }); \</span>
<span class='curline'><a href='../S/136.html#L158'>P</a>                 158 core/compile.c     potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[n], reg); \</span>
<span class='curline'><a href='../S/136.html#L166'>P</a>                 166 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, reg); }); \</span>
<span class='curline'><a href='../S/136.html#L169'>P</a>                 169 core/compile.c     potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[n], reg); \</span>
<span class='curline'><a href='../S/136.html#L207'>P</a>                 207 core/compile.c #define PN_ARG_TABLE(args, reg, inc) potion_arg_asmb(P, f, loop, args, &amp;reg, inc)</span>
<span class='curline'><a href='../S/136.html#L222'>P</a>                 222 core/compile.c void potion_arg_asmb(Potion *P, vPN(Proto) f, struct PNLoop *loop, PN args, u8 *reg, int inc)</span>
<span class='curline'><a href='../S/136.html#L234'>P</a>                 234 core/compile.c               potion_source_asmb(P, f, loop, 0, (struct PNSource *)PN_S(v, 1), sreg + 1);</span>
<span class='curline'><a href='../S/136.html#L251'>P</a>                 251 core/compile.c                 potion_source_asmb(P, f, loop, 0, (struct PNSource *)lhs, sreg);</span>
<span class='curline'><a href='../S/136.html#L256'>P</a>                 256 core/compile.c               potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, *reg);</span>
<span class='curline'><a href='../S/136.html#L258'>P</a>                 258 core/compile.c             potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, *reg);</span>
<span class='curline'><a href='../S/136.html#L263'>P</a>                 263 core/compile.c       potion_source_asmb(P, f, loop, 0, (struct PNSource *)args, *reg);</span>
<span class='curline'><a href='../S/136.html#L271'>P</a>                 271 core/compile.c void potion_source_asmb(Potion *P, vPN(Proto) f, struct PNLoop *loop, PN_SIZE count,</span>
<span class='curline'><a href='../S/136.html#L280'>P</a>                 280 core/compile.c           potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, reg);</span>
<span class='curline'><a href='../S/136.html#L288'>P</a>                 288 core/compile.c           potion_source_asmb(P, f, loop, i, (struct PNSource *)v, reg);</span>
<span class='curline'><a href='../S/136.html#L327'>P</a>                 327 core/compile.c           potion_source_asmb(P, f, loop, i, (struct PNSource *)PN_TUPLE_AT(lhs-&gt;a[0], i), reg);</span>
<span class='curline'><a href='../S/136.html#L368'>P</a>                 368 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[1], ++breg);</span>
<span class='curline'><a href='../S/136.html#L371'>P</a>                 371 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[1], breg);</span>
<span class='curline'><a href='../S/136.html#L475'>P</a>                 475 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[2], reg);</span>
<span class='curline'><a href='../S/136.html#L483'>P</a>                 483 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[2], reg);</span>
<span class='curline'><a href='../S/136.html#L489'>P</a>                 489 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[2], reg);</span>
<span class='curline'><a href='../S/136.html#L500'>P</a>                 500 core/compile.c           PN_PUSH(ctor, PN_AST(EXPR, PN_TUP(PN_AST(MESSAGE, potion_str(P, "self")))));</span>
<span class='curline'><a href='../S/136.html#L515'>P</a>                 515 core/compile.c         potion_source_asmb(P, f, &amp;l, 0, (struct PNSource *)t-&gt;a[2], reg);</span>
<span class='curline'><a href='../S/136.html#L638'>P</a>                 638 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[1], ++breg);</span>
<span class='curline'><a href='../S/136.html#L642'>P</a>                 642 core/compile.c         potion_source_asmb(P, f, loop, 0, (struct PNSource *)t-&gt;a[2], ++breg);</span>
<span class='curline'><a href='../S/136.html#L665'>P</a>                 665 core/compile.c               potion_source_asmb(P, f, loop, 0, (struct PNSource *)lhs, reg + 1);</span>
<span class='curline'><a href='../S/136.html#L667'>P</a>                 667 core/compile.c             potion_source_asmb(P, f, loop, 0, (struct PNSource *)PN_S(v, 1), reg + 2);</span>
<span class='curline'><a href='../S/136.html#L671'>P</a>                 671 core/compile.c             potion_source_asmb(P, f, loop, 0, (struct PNSource *)v, reg + 1);</span>
<span class='curline'><a href='../S/136.html#L687'>P</a>                 687 core/compile.c PN potion_sig_compile(Potion *P, vPN(Proto) f, PN src) {</span>
<span class='curline'><a href='../S/136.html#L722'>P</a>                 722 core/compile.c PN potion_source_compile(Potion *P, PN cl, PN self, PN source, PN sig) {</span>
<span class='curline'><a href='../S/136.html#L741'>P</a>                 741 core/compile.c   f-&gt;sig = (sig == PN_NIL ? PN_TUP0() : potion_sig_compile(P, f, sig));</span>
<span class='curline'><a href='../S/136.html#L742'>P</a>                 742 core/compile.c   f-&gt;asmb = (PN)potion_asm_new(P);</span>
<span class='curline'><a href='../S/136.html#L744'>P</a>                 744 core/compile.c   potion_source_asmb(P, f, NULL, 0, t, 0);</span>
<span class='curline'><a href='../S/136.html#L760'>P</a>                 760 core/compile.c         val = potion_decimal(P, (char *)ptr, len); \</span>
<span class='curline'><a href='../S/136.html#L764'>P</a>                 764 core/compile.c         val = potion_str2(P, (char *)ptr, len); \</span>
<span class='curline'><a href='../S/136.html#L773'>P</a>                 773 core/compile.c   PN tup = potion_tuple_with_size(P, (PN_SIZE)count); \</span>
<span class='curline'><a href='../S/136.html#L780'>P</a>                 780 core/compile.c     READ_TUPLE(ptr) PN_TUPLE_AT(tup, i) = potion_proto_load(P, (PN)f, pn, &amp;(ptr)); \</span>
<span class='curline'><a href='../S/136.html#L785'>P</a>                 785 core/compile.c PN potion_proto_load(Potion *P, PN up, u8 pn, u8 **ptr) {</span>
<span class='curline'><a href='../S/136.html#L814'>P</a>                 814 core/compile.c PN potion_source_load(Potion *P, PN cl, PN buf) {</span>
<span class='curline'><a href='../S/136.html#L823'>P</a>                 823 core/compile.c   return potion_proto_load(P, PN_NIL, h-&gt;pn, &amp;ptr);</span>
<span class='curline'><a href='../S/136.html#L836'>P</a>                 836 core/compile.c       PN str = potion_num_string(P, PN_NIL, val); \</span>
<span class='curline'><a href='../S/136.html#L854'>P</a>                 854 core/compile.c     WRITE_TUPLE(tup, ptr) ptr += potion_proto_dumpbc(P, PN_TUPLE_AT(tup, i), \</span>
<span class='curline'><a href='../S/136.html#L864'>P</a>                 864 core/compile.c long potion_proto_dumpbc(Potion *P, PN proto, PN out, long pos) {</span>
<span class='curline'><a href='../S/136.html#L885'>P</a>                 885 core/compile.c PN potion_source_dumpbc(Potion *P, PN cl, PN proto) {</span>
<span class='curline'><a href='../S/136.html#L886'>P</a>                 886 core/compile.c   PN pnb = potion_bytes(P, 8192);</span>
<span class='curline'><a href='../S/136.html#L896'>P</a>                 896 core/compile.c     potion_proto_dumpbc(P, proto, pnb, sizeof(struct PNBHeader));</span>
<span class='curline'><a href='../S/136.html#L900'>P</a>                 900 core/compile.c PN potion_run(Potion *P, PN code, int jit) {</span>
<span class='curline'><a href='../S/136.html#L908'>P</a>                 908 core/compile.c     PN cl = potion_closure_new(P, (PN_F)potion_jit_proto(P, code), PN_NIL, 1);</span>
<span class='curline'><a href='../S/136.html#L910'>P</a>                 910 core/compile.c     return PN_PROTO(code)-&gt;jit(P, cl, P-&gt;lobby);</span>
<span class='curline'><a href='../S/136.html#L912'>P</a>                 912 core/compile.c     return potion_vm(P, code, P-&gt;lobby, PN_NIL, 0, NULL);</span>
<span class='curline'><a href='../S/136.html#L916'>P</a>                 916 core/compile.c PN potion_eval(Potion *P, PN bytes, int jit) {</span>
<span class='curline'><a href='../S/136.html#L917'>P</a>                 917 core/compile.c   PN code = potion_parse(P, bytes, "&lt;eval&gt;");</span>
<span class='curline'><a href='../S/136.html#L920'>P</a>                 920 core/compile.c   return potion_run(P, code, jit);</span>
<span class='curline'><a href='../S/136.html#L923'>P</a>                 923 core/compile.c void potion_compiler_init(Potion *P) {</span>
<span class='curline'><a href='../S/137.html#L30'>P</a>                  30 core/file.c    PN potion_file_new(Potion *P, PN cl, PN self, PN path, PN modestr) {</span>
<span class='curline'><a href='../S/137.html#L64'>P</a>                  64 core/file.c    PN potion_file_with_fd(Potion *P, PN cl, PN self, PN fd) {</span>
<span class='curline'><a href='../S/137.html#L65'>P</a>                  65 core/file.c      struct PNFile *file = (struct PNFile *)potion_object_new(P, PN_NIL, PN_VTABLE(PN_TFILE));</span>
<span class='curline'><a href='../S/137.html#L81'>P</a>                  81 core/file.c    PN potion_file_close(Potion *P, PN cl, pn_file self) {</span>
<span class='curline'><a href='../S/137.html#L91'>P</a>                  91 core/file.c    PN potion_file_read(Potion *P, PN cl, pn_file self, PN n) {</span>
<span class='curline'><a href='../S/137.html#L102'>P</a>                 102 core/file.c      return potion_byte_str2(P, buf, r);</span>
<span class='curline'><a href='../S/137.html#L109'>P</a>                 109 core/file.c    PN potion_file_write(Potion *P, PN cl, pn_file self, PN str) {</span>
<span class='curline'><a href='../S/137.html#L121'>P</a>                 121 core/file.c    PN potion_file_string(Potion *P, PN cl, pn_file self) {</span>
<span class='curline'><a href='../S/137.html#L133'>P</a>                 133 core/file.c      str = potion_str(P, buf);</span>
<span class='curline'><a href='../S/137.html#L141'>P</a>                 141 core/file.c    PN potion_lobby_read(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/137.html#L145'>P</a>                 145 core/file.c        return potion_str(P, line);</span>
<span class='curline'><a href='../S/137.html#L150'>P</a>                 150 core/file.c    void potion_file_init(Potion *P) {</span>
<span class='curline'><a href='../S/137.html#L153'>P</a>                 153 core/file.c      PN pe = potion_table_empty(P);</span>
<span class='curline'><a href='../S/137.html#L155'>P</a>                 155 core/file.c      PN PN_env = potion_str(P, "%ENV");</span>
<span class='curline'><a href='../S/137.html#L157'>P</a>                 157 core/file.c      PN PN_env = potion_str(P, "Env");</span>
<span class='curline'><a href='../S/137.html#L161'>P</a>                 161 core/file.c        potion_table_put(P, PN_NIL, pe, potion_str2(P, *env, key - *env),</span>
<span class='curline'><a href='../S/137.html#L162'>P</a>                 162 core/file.c          potion_str(P, key + 1));</span>
<span class='curline'><a href='../S/137.html#L165'>P</a>                 165 core/file.c      potion_send(P-&gt;lobby, PN_def, PN_env, pe);</span>
<span class='curline'><a href='../S/137.html#L166'>P</a>                 166 core/file.c      potion_method(P-&gt;lobby, "read", potion_lobby_read, 0);</span>
<span class='curline'><a href='../S/138.html#L20'>P</a>                  20 core/gc.c      #define dbg_Gv(P,...)				\</span>
<span class='curline'><a href='../S/138.html#L21'>P</a>                  21 core/gc.c        if (P-&gt;flags &amp; (DEBUG_GC | DEBUG_VERBOSE)) {	\</span>
<span class='curline'><a href='../S/138.html#L24'>P</a>                  24 core/gc.c      #define dbg_G(P,...)	       \</span>
<span class='curline'><a href='../S/138.html#L25'>P</a>                  25 core/gc.c        if (P-&gt;flags &amp; DEBUG_GC) {   \</span>
<span class='curline'><a href='../S/138.html#L33'>P</a>                  33 core/gc.c      PN_SIZE potion_stack_len(Potion *P, _PN **p) {</span>
<span class='curline'><a href='../S/138.html#L34'>P</a>                  34 core/gc.c        _PN *esp, *c = P-&gt;mem-&gt;cstack;</span>
<span class='curline'><a href='../S/138.html#L40'>P</a>                  40 core/gc.c      #define HAS_REAL_TYPE(v) (P-&gt;vts == NULL || (((struct PNFwd *)v)-&gt;fwd == POTION_COPIED || PN_TYPECHECK(PN_VTYPE(v))))</span>
<span class='curline'><a href='../S/138.html#L43'>P</a>                  43 core/gc.c      static PN_SIZE pngc_mark_array(Potion *P, register _PN *x, register long n, int forward) {</span>
<span class='curline'><a href='../S/138.html#L46'>P</a>                  46 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L56'>P</a>                  56 core/gc.c      	    dbg_Gv(P,"GC mark count only\n");</span>
<span class='curline'><a href='../S/138.html#L64'>P</a>                  64 core/gc.c      	    dbg_Gv(P,"GC mark minor\n");</span>
<span class='curline'><a href='../S/138.html#L71'>P</a>                  71 core/gc.c      	    dbg_Gv(P,"GC mark major\n");</span>
<span class='curline'><a href='../S/138.html#L82'>P</a>                  82 core/gc.c      PN_SIZE potion_mark_stack(Potion *P, int forward) {</span>
<span class='curline'><a href='../S/138.html#L84'>P</a>                  84 core/gc.c        _PN *end, *start = P-&gt;mem-&gt;cstack;</span>
<span class='curline'><a href='../S/138.html#L85'>P</a>                  85 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L95'>P</a>                  95 core/gc.c        return pngc_mark_array(P, start, n, forward);</span>
<span class='curline'><a href='../S/138.html#L124'>P</a>                 124 core/gc.c      static int potion_gc_minor(Potion *P, int sz) {</span>
<span class='curline'><a href='../S/138.html#L125'>P</a>                 125 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L135'>P</a>                 135 core/gc.c        dbg_G(P,"running gc_minor\n"</span>
<span class='curline'><a href='../S/138.html#L142'>P</a>                 142 core/gc.c        potion_mark_stack(P, 1);</span>
<span class='curline'><a href='../S/138.html#L150'>P</a>                 150 core/gc.c            potion_mark_minor(P, (const struct PNObject *)v);</span>
<span class='curline'><a href='../S/138.html#L155'>P</a>                 155 core/gc.c          scanptr = potion_mark_minor(P, scanptr);</span>
<span class='curline'><a href='../S/138.html#L164'>P</a>                 164 core/gc.c        dbg_G(P,"(new young: %p -&gt; %p = %ld)\n", M-&gt;birth_lo, M-&gt;birth_hi, (long)(M-&gt;birth_hi - M-&gt;birth_lo));</span>
<span class='curline'><a href='../S/138.html#L168'>P</a>                 168 core/gc.c      static int potion_gc_major(Potion *P, int siz) {</span>
<span class='curline'><a href='../S/138.html#L169'>P</a>                 169 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L191'>P</a>                 191 core/gc.c        dbg_G(P,"running gc_major\n"</span>
<span class='curline'><a href='../S/138.html#L201'>P</a>                 201 core/gc.c        dbg_G(P,"(new old: %p -&gt; %p = %d)\n", newold, (char *)newold + newoldsiz, newoldsiz);</span>
<span class='curline'><a href='../S/138.html#L203'>P</a>                 203 core/gc.c        potion_mark_stack(P, 2);</span>
<span class='curline'><a href='../S/138.html#L208'>P</a>                 208 core/gc.c            protptr = potion_mark_major(P, protptr);</span>
<span class='curline'><a href='../S/138.html#L212'>P</a>                 212 core/gc.c          scanptr = potion_mark_major(P, scanptr);</span>
<span class='curline'><a href='../S/138.html#L240'>P</a>                 240 core/gc.c      void potion_garbagecollect(Potion *P, int sz, int full) {</span>
<span class='curline'><a href='../S/138.html#L241'>P</a>                 241 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L262'>P</a>                 262 core/gc.c          potion_gc_major(P, sz);</span>
<span class='curline'><a href='../S/138.html#L264'>P</a>                 264 core/gc.c          potion_gc_minor(P, sz);</span>
<span class='curline'><a href='../S/138.html#L270'>P</a>                 270 core/gc.c      PN_SIZE potion_type_size(Potion *P, const struct PNObject *ptr) {</span>
<span class='curline'><a href='../S/138.html#L281'>P</a>                 281 core/gc.c          if (P-&gt;vts &amp;&amp; PN_VTABLE(ptr-&gt;vt) &amp;&amp; PN_TYPECHECK(ptr-&gt;vt))</span>
<span class='curline'><a href='../S/138.html#L284'>P</a>                 284 core/gc.c          else if (P-&gt;flags &amp; (DEBUG_VERBOSE</span>
<span class='curline'><a href='../S/138.html#L349'>P</a>                 349 core/gc.c      void *potion_gc_copy(Potion *P, struct PNObject *ptr) {</span>
<span class='curline'><a href='../S/138.html#L350'>P</a>                 350 core/gc.c        void *dst = (void *)P-&gt;mem-&gt;old_cur;</span>
<span class='curline'><a href='../S/138.html#L351'>P</a>                 351 core/gc.c        PN_SIZE sz = potion_type_size(P, (const struct PNObject *)ptr);</span>
<span class='curline'><a href='../S/138.html#L353'>P</a>                 353 core/gc.c        P-&gt;mem-&gt;old_cur = (char *)dst + sz;</span>
<span class='curline'><a href='../S/138.html#L362'>P</a>                 362 core/gc.c      void *potion_mark_minor(Potion *P, const struct PNObject *ptr) {</span>
<span class='curline'><a href='../S/138.html#L363'>P</a>                 363 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L448'>P</a>                 448 core/gc.c            pngc_mark_array(P, (_PN *)((struct PNCont *)ptr)-&gt;stack + 3, ((struct PNCont *)ptr)-&gt;len - 3, 1);</span>
<span class='curline'><a href='../S/138.html#L453'>P</a>                 453 core/gc.c        sz = potion_type_size(P, ptr);</span>
<span class='curline'><a href='../S/138.html#L457'>P</a>                 457 core/gc.c      void *potion_mark_major(Potion *P, const struct PNObject *ptr) {</span>
<span class='curline'><a href='../S/138.html#L458'>P</a>                 458 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L543'>P</a>                 543 core/gc.c            pngc_mark_array(P, (_PN *)((struct PNCont *)ptr)-&gt;stack + 3, ((struct PNCont *)ptr)-&gt;len - 3, 2);</span>
<span class='curline'><a href='../S/138.html#L548'>P</a>                 548 core/gc.c        sz = potion_type_size(P, ptr);</span>
<span class='curline'><a href='../S/138.html#L574'>P</a>                 574 core/gc.c        Potion *P;</span>
<span class='curline'><a href='../S/138.html#L584'>P</a>                 584 core/gc.c        P = (Potion *)((char *)M + PN_ALIGN(sizeof(struct PNMemory), 8));</span>
<span class='curline'><a href='../S/138.html#L585'>P</a>                 585 core/gc.c        PN_MEMZERO(P, Potion);</span>
<span class='curline'><a href='../S/138.html#L586'>P</a>                 586 core/gc.c        P-&gt;mem = M;</span>
<span class='curline'><a href='../S/138.html#L588'>P</a>                 588 core/gc.c        M-&gt;birth_cur = (void *)((char *)P + PN_ALIGN(sizeof(Potion), 8));</span>
<span class='curline'><a href='../S/138.html#L589'>P</a>                 589 core/gc.c        GC_PROTECT(P);</span>
<span class='curline'><a href='../S/138.html#L590'>P</a>                 590 core/gc.c        return P;</span>
<span class='curline'><a href='../S/138.html#L594'>P</a>                 594 core/gc.c      void potion_gc_release(Potion *P) {</span>
<span class='curline'><a href='../S/138.html#L595'>P</a>                 595 core/gc.c        struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L616'>P</a>                 616 core/gc.c      PN potion_gc_actual(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/138.html#L618'>P</a>                 618 core/gc.c        int total = (char *)P-&gt;mem-&gt;birth_cur - (char *)P-&gt;mem-&gt;birth_lo;</span>
<span class='curline'><a href='../S/138.html#L619'>P</a>                 619 core/gc.c        if (P-&gt;mem != P-&gt;mem-&gt;birth_lo)</span>
<span class='curline'><a href='../S/138.html#L620'>P</a>                 620 core/gc.c          total += (char *)P-&gt;mem-&gt;protect - (char *)P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L621'>P</a>                 621 core/gc.c        if (P-&gt;mem-&gt;old_lo != NULL)</span>
<span class='curline'><a href='../S/138.html#L622'>P</a>                 622 core/gc.c          total += (char *)P-&gt;mem-&gt;old_cur - (char *)P-&gt;mem-&gt;old_lo;</span>
<span class='curline'><a href='../S/138.html#L626'>P</a>                 626 core/gc.c      PN potion_gc_fixed(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/138.html#L629'>P</a>                 629 core/gc.c        if (P-&gt;mem-&gt;protect != NULL)</span>
<span class='curline'><a href='../S/138.html#L630'>P</a>                 630 core/gc.c          total += (char *)P-&gt;mem-&gt;protect - (char *)P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L634'>P</a>                 634 core/gc.c      PN potion_gc_reserved(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/138.html#L636'>P</a>                 636 core/gc.c        int total = (char *)P-&gt;mem-&gt;birth_hi - (char *)P-&gt;mem-&gt;birth_lo;</span>
<span class='curline'><a href='../S/138.html#L637'>P</a>                 637 core/gc.c        if (P-&gt;mem != P-&gt;mem-&gt;birth_lo)</span>
<span class='curline'><a href='../S/138.html#L638'>P</a>                 638 core/gc.c          total += (char *)P-&gt;mem-&gt;protect - (char *)P-&gt;mem;</span>
<span class='curline'><a href='../S/138.html#L639'>P</a>                 639 core/gc.c        if (P-&gt;mem-&gt;old_lo != NULL)</span>
<span class='curline'><a href='../S/138.html#L640'>P</a>                 640 core/gc.c          total += (char *)P-&gt;mem-&gt;old_hi - (char *)P-&gt;mem-&gt;old_lo;</span>
<span class='curline'><a href='../S/125.html#L66'>P</a>                  66 core/gc.h          *(p) = (_PN)potion_gc_copy(P, (struct PNObject *)v); \</span>
<span class='curline'><a href='../S/125.html#L118'>P</a>                 118 core/gc.h        GC_MINOR_UPDATE(P-&gt;strings); \</span>
<span class='curline'><a href='../S/125.html#L119'>P</a>                 119 core/gc.h        for (k = kh_begin(P-&gt;strings); k != kh_end(P-&gt;strings); ++k) \</span>
<span class='curline'><a href='../S/125.html#L120'>P</a>                 120 core/gc.h          if (kh_exist(str, P-&gt;strings, k)) { \</span>
<span class='curline'><a href='../S/125.html#L121'>P</a>                 121 core/gc.h            PN v = kh_key(str, P-&gt;strings, k); \</span>
<span class='curline'><a href='../S/125.html#L124'>P</a>                 124 core/gc.h                kh_key(str, P-&gt;strings, k) = ((struct PNFwd *)v)-&gt;ptr; \</span>
<span class='curline'><a href='../S/125.html#L126'>P</a>                 126 core/gc.h                kh_del(str, P-&gt;strings, k); \</span>
<span class='curline'><a href='../S/125.html#L133'>P</a>                 133 core/gc.h        GC_MAJOR_UPDATE(P-&gt;strings); \</span>
<span class='curline'><a href='../S/125.html#L134'>P</a>                 134 core/gc.h        for (k = kh_begin(P-&gt;strings); k != kh_end(P-&gt;strings); ++k) \</span>
<span class='curline'><a href='../S/125.html#L135'>P</a>                 135 core/gc.h          if (kh_exist(str, P-&gt;strings, k)) { \</span>
<span class='curline'><a href='../S/125.html#L136'>P</a>                 136 core/gc.h            PN v = kh_key(str, P-&gt;strings, k); \</span>
<span class='curline'><a href='../S/125.html#L140'>P</a>                 140 core/gc.h                kh_key(str, P-&gt;strings, k) = ((struct PNFwd *)v)-&gt;ptr; \</span>
<span class='curline'><a href='../S/125.html#L142'>P</a>                 142 core/gc.h                kh_del(str, P-&gt;strings, k); \</span>
<span class='curline'><a href='../S/139.html#L22'>P</a>                  22 core/internal.c PN potion_allocate(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/139.html#L28'>P</a>                  28 core/internal.c static void potion_init(Potion *P) {</span>
<span class='curline'><a href='../S/139.html#L30'>P</a>                  30 core/internal.c   P-&gt;lobby = potion_type_new(P, PN_TLOBBY, 0);       // named Lobby resp. P2</span>
<span class='curline'><a href='../S/139.html#L31'>P</a>                  31 core/internal.c   vtable = potion_type_new(P, PN_TVTABLE, P-&gt;lobby); // named Mixin</span>
<span class='curline'><a href='../S/139.html#L32'>P</a>                  32 core/internal.c   obj_vt = potion_type_new(P, PN_TOBJECT, P-&gt;lobby);</span>
<span class='curline'><a href='../S/139.html#L33'>P</a>                  33 core/internal.c   potion_type_new(P, PN_TNIL, obj_vt);               // named NilKind resp. Undef</span>
<span class='curline'><a href='../S/139.html#L34'>P</a>                  34 core/internal.c   potion_type_new(P, PN_TNUMBER, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L35'>P</a>                  35 core/internal.c   potion_type_new(P, PN_TBOOLEAN, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L36'>P</a>                  36 core/internal.c   potion_type_new(P, PN_TSTRING, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L37'>P</a>                  37 core/internal.c   potion_type_new(P, PN_TTABLE, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L38'>P</a>                  38 core/internal.c   potion_type_new(P, PN_TCLOSURE, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L39'>P</a>                  39 core/internal.c   potion_type_new(P, PN_TTUPLE, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L40'>P</a>                  40 core/internal.c   potion_type_new(P, PN_TFILE, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L41'>P</a>                  41 core/internal.c   potion_type_new(P, PN_TSTATE, obj_vt); // named Potion</span>
<span class='curline'><a href='../S/139.html#L42'>P</a>                  42 core/internal.c   potion_type_new(P, PN_TSOURCE, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L43'>P</a>                  43 core/internal.c   potion_type_new(P, PN_TBYTES, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L44'>P</a>                  44 core/internal.c   potion_type_new(P, PN_TPROTO, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L45'>P</a>                  45 core/internal.c   potion_type_new(P, PN_TWEAK, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L46'>P</a>                  46 core/internal.c   potion_type_new(P, PN_TLICK, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L47'>P</a>                  47 core/internal.c   potion_type_new(P, PN_TERROR, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L48'>P</a>                  48 core/internal.c   potion_type_new(P, PN_TCONT, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L50'>P</a>                  50 core/internal.c   potion_type_new(P, PN_TDECIMAL, obj_vt);</span>
<span class='curline'><a href='../S/139.html#L53'>P</a>                  53 core/internal.c   potion_str_hash_init(P);</span>
<span class='curline'><a href='../S/139.html#L54'>P</a>                  54 core/internal.c   PN_allocate = potion_str(P, "allocate");</span>
<span class='curline'><a href='../S/139.html#L55'>P</a>                  55 core/internal.c   PN_break = potion_str(P, "break");</span>
<span class='curline'><a href='../S/139.html#L56'>P</a>                  56 core/internal.c   PN_call = potion_str(P, "call");</span>
<span class='curline'><a href='../S/139.html#L57'>P</a>                  57 core/internal.c   PN_continue = potion_str(P, "continue");</span>
<span class='curline'><a href='../S/139.html#L58'>P</a>                  58 core/internal.c   PN_def = potion_str(P, "def");</span>
<span class='curline'><a href='../S/139.html#L59'>P</a>                  59 core/internal.c   PN_delegated = potion_str(P, "delegated");</span>
<span class='curline'><a href='../S/139.html#L60'>P</a>                  60 core/internal.c   PN_class = potion_str(P, "class");</span>
<span class='curline'><a href='../S/139.html#L61'>P</a>                  61 core/internal.c   PN_compile = potion_str(P, "compile");</span>
<span class='curline'><a href='../S/139.html#L62'>P</a>                  62 core/internal.c   PN_else = potion_str(P, "else");</span>
<span class='curline'><a href='../S/139.html#L63'>P</a>                  63 core/internal.c   PN_elsif = potion_str(P, "elsif");</span>
<span class='curline'><a href='../S/139.html#L64'>P</a>                  64 core/internal.c   PN_if = potion_str(P, "if");</span>
<span class='curline'><a href='../S/139.html#L65'>P</a>                  65 core/internal.c   PN_lookup = potion_str(P, "lookup");</span>
<span class='curline'><a href='../S/139.html#L66'>P</a>                  66 core/internal.c   PN_loop = potion_str(P, "loop");</span>
<span class='curline'><a href='../S/139.html#L67'>P</a>                  67 core/internal.c   PN_print = potion_str(P, "print");</span>
<span class='curline'><a href='../S/139.html#L68'>P</a>                  68 core/internal.c   PN_return = potion_str(P, "return");</span>
<span class='curline'><a href='../S/139.html#L69'>P</a>                  69 core/internal.c   PN_self = potion_str(P, "self");</span>
<span class='curline'><a href='../S/139.html#L70'>P</a>                  70 core/internal.c   PN_string = potion_str(P, "string");</span>
<span class='curline'><a href='../S/139.html#L71'>P</a>                  71 core/internal.c   PN_while = potion_str(P, "while");</span>
<span class='curline'><a href='../S/139.html#L74'>P</a>                  74 core/internal.c   PN_use = potion_str(P, "use");</span>
<span class='curline'><a href='../S/139.html#L77'>P</a>                  77 core/internal.c   PN_add = potion_str(P, "+");</span>
<span class='curline'><a href='../S/139.html#L78'>P</a>                  78 core/internal.c   PN_sub = potion_str(P, "-");</span>
<span class='curline'><a href='../S/139.html#L79'>P</a>                  79 core/internal.c   PN_mult = potion_str(P, "*");</span>
<span class='curline'><a href='../S/139.html#L80'>P</a>                  80 core/internal.c   PN_div = potion_str(P, "/");</span>
<span class='curline'><a href='../S/139.html#L81'>P</a>                  81 core/internal.c   PN_rem = potion_str(P, "%");</span>
<span class='curline'><a href='../S/139.html#L82'>P</a>                  82 core/internal.c   PN_bitn = potion_str(P, "~");</span>
<span class='curline'><a href='../S/139.html#L83'>P</a>                  83 core/internal.c   PN_bitl = potion_str(P, "&lt;&lt;");</span>
<span class='curline'><a href='../S/139.html#L84'>P</a>                  84 core/internal.c   PN_bitr = potion_str(P, "&gt;&gt;");</span>
<span class='curline'><a href='../S/139.html#L86'>P</a>                  86 core/internal.c   potion_def_method(P, 0, vtable, PN_lookup, PN_FUNC(potion_lookup, 0));</span>
<span class='curline'><a href='../S/139.html#L87'>P</a>                  87 core/internal.c   potion_def_method(P, 0, vtable, PN_def, PN_FUNC(potion_def_method, "name=S,block=&amp;"));</span>
<span class='curline'><a href='../S/139.html#L92'>P</a>                  92 core/internal.c   potion_vm_init(P);</span>
<span class='curline'><a href='../S/139.html#L93'>P</a>                  93 core/internal.c   potion_lobby_init(P);</span>
<span class='curline'><a href='../S/139.html#L94'>P</a>                  94 core/internal.c   potion_object_init(P);</span>
<span class='curline'><a href='../S/139.html#L95'>P</a>                  95 core/internal.c   potion_error_init(P);</span>
<span class='curline'><a href='../S/139.html#L96'>P</a>                  96 core/internal.c   potion_cont_init(P);</span>
<span class='curline'><a href='../S/139.html#L97'>P</a>                  97 core/internal.c   potion_primitive_init(P);</span>
<span class='curline'><a href='../S/139.html#L98'>P</a>                  98 core/internal.c   potion_num_init(P);</span>
<span class='curline'><a href='../S/139.html#L99'>P</a>                  99 core/internal.c   potion_str_init(P);</span>
<span class='curline'><a href='../S/139.html#L100'>P</a>                 100 core/internal.c   potion_table_init(P);</span>
<span class='curline'><a href='../S/139.html#L101'>P</a>                 101 core/internal.c   potion_source_init(P);</span>
<span class='curline'><a href='../S/139.html#L102'>P</a>                 102 core/internal.c   potion_lick_init(P);</span>
<span class='curline'><a href='../S/139.html#L103'>P</a>                 103 core/internal.c   potion_compiler_init(P);</span>
<span class='curline'><a href='../S/139.html#L104'>P</a>                 104 core/internal.c   potion_file_init(P);</span>
<span class='curline'><a href='../S/139.html#L105'>P</a>                 105 core/internal.c   potion_loader_init(P);</span>
<span class='curline'><a href='../S/139.html#L107'>P</a>                 107 core/internal.c   GC_PROTECT(P);</span>
<span class='curline'><a href='../S/139.html#L111'>P</a>                 111 core/internal.c   Potion *P = potion_gc_boot(sp);</span>
<span class='curline'><a href='../S/139.html#L112'>P</a>                 112 core/internal.c   P-&gt;vt = PN_TSTATE;</span>
<span class='curline'><a href='../S/139.html#L113'>P</a>                 113 core/internal.c   P-&gt;uniq = (PNUniq)potion_rand_int();</span>
<span class='curline'><a href='../S/139.html#L114'>P</a>                 114 core/internal.c   PN_FLEX_NEW(P-&gt;vts, PN_TFLEX, PNFlex, TYPE_BATCH_SIZE);</span>
<span class='curline'><a href='../S/139.html#L115'>P</a>                 115 core/internal.c   PN_FLEX_SIZE(P-&gt;vts) = PN_TYPE_ID(PN_TUSER) + 1;</span>
<span class='curline'><a href='../S/139.html#L116'>P</a>                 116 core/internal.c   P-&gt;prec = PN_PREC;</span>
<span class='curline'><a href='../S/139.html#L117'>P</a>                 117 core/internal.c   P-&gt;flags = MODE_P5;</span>
<span class='curline'><a href='../S/139.html#L118'>P</a>                 118 core/internal.c   potion_init(P);</span>
<span class='curline'><a href='../S/139.html#L119'>P</a>                 119 core/internal.c   return P;</span>
<span class='curline'><a href='../S/139.html#L122'>P</a>                 122 core/internal.c void potion_destroy(Potion *P) {</span>
<span class='curline'><a href='../S/139.html#L123'>P</a>                 123 core/internal.c   potion_gc_release(P);</span>
<span class='curline'><a href='../S/139.html#L126'>P</a>                 126 core/internal.c PN potion_delegated(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/139.html#L127'>P</a>                 127 core/internal.c   PNType t = PN_FLEX_SIZE(P-&gt;vts) + PN_TNIL;</span>
<span class='curline'><a href='../S/139.html#L128'>P</a>                 128 core/internal.c   PN_FLEX_NEEDS(1, P-&gt;vts, PN_TFLEX, PNFlex, TYPE_BATCH_SIZE);</span>
<span class='curline'><a href='../S/139.html#L129'>P</a>                 129 core/internal.c   return potion_type_new(P, t, self);</span>
<span class='curline'><a href='../S/139.html#L132'>P</a>                 132 core/internal.c PN potion_call(Potion *P, PN cl, PN_SIZE argc, PN * volatile argv) {</span>
<span class='curline'><a href='../S/139.html#L136'>P</a>                 136 core/internal.c     return c-&gt;method(P, cl, cl);</span>
<span class='curline'><a href='../S/139.html#L138'>P</a>                 138 core/internal.c     return c-&gt;method(P, cl, argv[0]);</span>
<span class='curline'><a href='../S/139.html#L140'>P</a>                 140 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1]);</span>
<span class='curline'><a href='../S/139.html#L142'>P</a>                 142 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2]);</span>
<span class='curline'><a href='../S/139.html#L144'>P</a>                 144 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3]);</span>
<span class='curline'><a href='../S/139.html#L146'>P</a>                 146 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4]);</span>
<span class='curline'><a href='../S/139.html#L148'>P</a>                 148 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L151'>P</a>                 151 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L154'>P</a>                 154 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L157'>P</a>                 157 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L160'>P</a>                 160 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L163'>P</a>                 163 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L166'>P</a>                 166 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L169'>P</a>                 169 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L173'>P</a>                 173 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L177'>P</a>                 177 core/internal.c     return c-&gt;method(P, cl, argv[0], argv[1], argv[2], argv[3], argv[4],</span>
<span class='curline'><a href='../S/139.html#L188'>P</a>                 188 core/internal.c PN potion_error(Potion *P, PN msg, long lineno, long charno, PN excerpt) {</span>
<span class='curline'><a href='../S/139.html#L197'>P</a>                 197 core/internal.c PN potion_error_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/139.html#L200'>P</a>                 200 core/internal.c     return potion_str_format(P, "** %s\n", PN_STR_PTR(e-&gt;message));</span>
<span class='curline'><a href='../S/139.html#L201'>P</a>                 201 core/internal.c   return potion_str_format(P, "** %s\n"</span>
<span class='curline'><a href='../S/139.html#L206'>P</a>                 206 core/internal.c void potion_error_init(Potion *P) {</span>
<span class='curline'><a href='../S/139.html#L224'>P</a>                 224 core/internal.c void potion_p(Potion *P, PN x) {</span>
<span class='curline'><a href='../S/139.html#L235'>P</a>                 235 core/internal.c void potion_dump(Potion *P, PN data) {</span>
<span class='curline'><a href='../S/139.html#L239'>P</a>                 239 core/internal.c #define pdump(data) potion_dump(P, data)</span>
<span class='curline'><a href='../S/139.html#L241'>P</a>                 241 core/internal.c void potion_dump_stack(Potion *P) {</span>
<span class='curline'><a href='../S/139.html#L243'>P</a>                 243 core/internal.c   PN *end, *ebp, *start = P-&gt;mem-&gt;cstack;</span>
<span class='curline'><a href='../S/139.html#L244'>P</a>                 244 core/internal.c   struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/140.html#L13'>P</a>                  13 core/internal.h #define PN_ALLOC(V,T)        (T *)potion_gc_alloc(P, V, sizeof(T))</span>
<span class='curline'><a href='../S/140.html#L14'>P</a>                  14 core/internal.h #define PN_ALLOC_N(V,T,C)    (T *)potion_gc_alloc(P, V, sizeof(T)+C)</span>
<span class='curline'><a href='../S/140.html#L15'>P</a>                  15 core/internal.h #define PN_CALLOC_N(V,T,C)   (T *)potion_gc_calloc(P, V, sizeof(T)+C)</span>
<span class='curline'><a href='../S/140.html#L16'>P</a>                  16 core/internal.h #define PN_REALLOC(X,V,T,N)  (X)=(T *)potion_gc_realloc(P, V, (struct PNObject *)(X), sizeof(T) + N)</span>
<span class='curline'><a href='../S/140.html#L17'>P</a>                  17 core/internal.h #define PN_DALLOC_N(T,N)     potion_data_alloc(P, sizeof(T)*N)</span>
<span class='curline'><a href='../S/140.html#L112'>P</a>                 112 core/internal.h #define GC_PROTECT(P) P-&gt;mem-&gt;protect = (void *)P-&gt;mem-&gt;birth_cur</span>
<span class='curline'><a href='../S/141.html#L59'>P</a>                  59 core/khash.h     static inline void kh_clear_##name(Potion *P, kh_t *h) \</span>
<span class='curline'><a href='../S/141.html#L67'>P</a>                  67 core/khash.h     static inline khint_t kh_get_##name(Potion *P, kh_t *h, khkey_t2 key) \</span>
<span class='curline'><a href='../S/141.html#L81'>P</a>                  81 core/khash.h     static inline kh_t *kh_resize_##name(Potion *P, kh_t *h, khint_t new_n_buckets) \</span>
<span class='curline'><a href='../S/141.html#L139'>P</a>                 139 core/khash.h     static inline khint_t kh_put_##name(Potion *P, kh_t *h, khkey_t key, int *ret) \</span>
<span class='curline'><a href='../S/141.html#L143'>P</a>                 143 core/khash.h         if (h-&gt;n_buckets &gt; (h-&gt;size&lt;&lt;1)) h = kh_resize_##name(P, h, h-&gt;n_buckets - 1); \</span>
<span class='curline'><a href='../S/141.html#L144'>P</a>                 144 core/khash.h         else h = kh_resize_##name(P, h, h-&gt;n_buckets + 1); \</span>
<span class='curline'><a href='../S/141.html#L177'>P</a>                 177 core/khash.h     static inline void kh_del_##name(Potion *P, kh_t *h, khint_t x) \</span>
<span class='curline'><a href='../S/141.html#L218'>P</a>                 218 core/khash.h   #define kh_clear(name, h) kh_clear_##name(P, h)</span>
<span class='curline'><a href='../S/141.html#L219'>P</a>                 219 core/khash.h   #define kh_resize(name, h, s) h = kh_resize_##name(P, h, s)</span>
<span class='curline'><a href='../S/141.html#L220'>P</a>                 220 core/khash.h   #define kh_put(name, h, k, r) kh_put_##name(P, h, k, r)</span>
<span class='curline'><a href='../S/141.html#L221'>P</a>                 221 core/khash.h   #define kh_get(name, h, k) kh_get_##name(P, h, k)</span>
<span class='curline'><a href='../S/141.html#L222'>P</a>                 222 core/khash.h   #define kh_del(name, h, k) kh_del_##name(P, h, k)</span>
<span class='curline'><a href='../S/142.html#L11'>P</a>                  11 core/lick.c    PN potion_lick(Potion *P, PN name, PN inner, PN attr) {</span>
<span class='curline'><a href='../S/142.html#L22'>P</a>                  22 core/lick.c    PN potion_lick_attr(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L29'>P</a>                  29 core/lick.c    PN potion_lick_licks(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L38'>P</a>                  38 core/lick.c    PN potion_lick_name(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L45'>P</a>                  45 core/lick.c    PN potion_lick_text(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L54'>P</a>                  54 core/lick.c    PN potion_lick_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L55'>P</a>                  55 core/lick.c      PN out = potion_byte_str(P, "");</span>
<span class='curline'><a href='../S/142.html#L56'>P</a>                  56 core/lick.c      potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;name);</span>
<span class='curline'><a href='../S/142.html#L58'>P</a>                  58 core/lick.c        pn_printf(P, out, " ");</span>
<span class='curline'><a href='../S/142.html#L59'>P</a>                  59 core/lick.c        potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;inner);</span>
<span class='curline'><a href='../S/142.html#L62'>P</a>                  62 core/lick.c        pn_printf(P, out, " ");</span>
<span class='curline'><a href='../S/142.html#L63'>P</a>                  63 core/lick.c        potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;attr);</span>
<span class='curline'><a href='../S/142.html#L68'>P</a>                  68 core/lick.c    void potion_lick_init(Potion *P) {</span>
<span class='curline'><a href='../S/143.html#L18'>P</a>                  18 core/load.c    void potion_load_code(Potion *P, const char *filename) {</span>
<span class='curline'><a href='../S/143.html#L31'>P</a>                  31 core/load.c      buf = potion_bytes(P, stats.st_size);</span>
<span class='curline'><a href='../S/143.html#L34'>P</a>                  34 core/load.c        code = potion_source_load(P, PN_NIL, buf);</span>
<span class='curline'><a href='../S/143.html#L36'>P</a>                  36 core/load.c          potion_run(P, potion_send(</span>
<span class='curline'><a href='../S/143.html#L37'>P</a>                  37 core/load.c    	  potion_parse(P, buf, (char *)filename),</span>
<span class='curline'><a href='../S/143.html#L38'>P</a>                  38 core/load.c              PN_compile, potion_str(P, filename), PN_NIL),</span>
<span class='curline'><a href='../S/143.html#L47'>P</a>                  47 core/load.c    static char *potion_initializer_name(Potion *P, const char *filename, PN_SIZE len) {</span>
<span class='curline'><a href='../S/143.html#L64'>P</a>                  64 core/load.c    void potion_load_dylib(Potion *P, const char *filename) {</span>
<span class='curline'><a href='../S/143.html#L73'>P</a>                  73 core/load.c      init_func_name = potion_initializer_name(P, filename, strlen(filename));</span>
<span class='curline'><a href='../S/143.html#L82'>P</a>                  82 core/load.c      func(P);</span>
<span class='curline'><a href='../S/143.html#L159'>P</a>                 159 core/load.c    PN potion_load(Potion *P, PN cl, PN self, PN file) {</span>
<span class='curline'><a href='../S/143.html#L169'>P</a>                 169 core/load.c          potion_load_code(P, filename);</span>
<span class='curline'><a href='../S/143.html#L171'>P</a>                 171 core/load.c          potion_load_code(P, filename);</span>
<span class='curline'><a href='../S/143.html#L173'>P</a>                 173 core/load.c          potion_load_dylib(P, filename);</span>
<span class='curline'><a href='../S/143.html#L185'>P</a>                 185 core/load.c    PN p2_load(Potion *P, PN cl, PN self, PN file) {</span>
<span class='curline'><a href='../S/143.html#L195'>P</a>                 195 core/load.c          p2_load_code(P, filename);</span>
<span class='curline'><a href='../S/143.html#L197'>P</a>                 197 core/load.c          p2_load_code(P, filename);</span>
<span class='curline'><a href='../S/143.html#L199'>P</a>                 199 core/load.c          potion_load_dylib(P, filename);</span>
<span class='curline'><a href='../S/143.html#L210'>P</a>                 210 core/load.c    void potion_loader_init(Potion *P) {</span>
<span class='curline'><a href='../S/143.html#L212'>P</a>                 212 core/load.c      PN_PUSH(pn_loader_path, potion_str(P, "lib"));</span>
<span class='curline'><a href='../S/143.html#L213'>P</a>                 213 core/load.c      PN_PUSH(pn_loader_path, potion_str(P, POTION_PREFIX"/lib/potion"));</span>
<span class='curline'><a href='../S/143.html#L214'>P</a>                 214 core/load.c      PN_PUSH(pn_loader_path, potion_str(P, "."));</span>
<span class='curline'><a href='../S/143.html#L221'>P</a>                 221 core/load.c      potion_define_global(P, potion_str(P, LOADER_PATH), pn_loader_path);</span>
<span class='curline'><a href='../S/143.html#L222'>P</a>                 222 core/load.c      potion_method(P-&gt;lobby, "load", potion_load, "file=S");</span>
<span class='curline'><a href='../S/143.html#L225'>P</a>                 225 core/load.c    void potion_loader_add(Potion *P, PN path) {</span>
<span class='curline'><a href='../S/128.html#L149'>P</a>                 149 core/mt19937ar.c PN potion_srand(Potion *P, PN cl, PN self, PN seed) {</span>
<span class='curline'><a href='../S/128.html#L154'>P</a>                 154 core/mt19937ar.c PN potion_rand(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L14'>P</a>                  14 core/number.c  PN potion_real(Potion *P, double v) {</span>
<span class='curline'><a href='../S/144.html#L20'>P</a>                  20 core/number.c  PN potion_decimal(Potion *P, char *str, int len) {</span>
<span class='curline'><a href='../S/144.html#L22'>P</a>                  22 core/number.c    return potion_real(P, strtod(str, &amp;ptr));</span>
<span class='curline'><a href='../S/144.html#L25'>P</a>                  25 core/number.c  PN potion_pow(Potion *P, PN cl, PN num, PN sup) {</span>
<span class='curline'><a href='../S/144.html#L30'>P</a>                  30 core/number.c    return potion_real(P, z);</span>
<span class='curline'><a href='../S/144.html#L33'>P</a>                  33 core/number.c  PN potion_sqrt(Potion *P, PN cl, PN num) {</span>
<span class='curline'><a href='../S/144.html#L34'>P</a>                  34 core/number.c    return potion_real(P, sqrt(PN_DBL(num)));</span>
<span class='curline'><a href='../S/144.html#L40'>P</a>                  40 core/number.c    return potion_real(P, PN_DBL(self) int_math PN_DBL(num));</span>
<span class='curline'><a href='../S/144.html#L42'>P</a>                  42 core/number.c  static PN potion_add(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L46'>P</a>                  46 core/number.c  static PN potion_sub(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L50'>P</a>                  50 core/number.c  static PN potion_mult(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L54'>P</a>                  54 core/number.c  static PN potion_div(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L58'>P</a>                  58 core/number.c  static PN potion_rem(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L63'>P</a>                  63 core/number.c    return potion_real(P, x - (y * (double)z));</span>
<span class='curline'><a href='../S/144.html#L66'>P</a>                  66 core/number.c  static PN potion_bitn(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L69'>P</a>                  69 core/number.c    return (PN)potion_real(P, 0.0);</span>
<span class='curline'><a href='../S/144.html#L72'>P</a>                  72 core/number.c  static PN potion_bitl(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L75'>P</a>                  75 core/number.c    return (PN)potion_real(P, 0.0);</span>
<span class='curline'><a href='../S/144.html#L78'>P</a>                  78 core/number.c  static PN potion_bitr(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L81'>P</a>                  81 core/number.c    return (PN)potion_real(P, 0.0);</span>
<span class='curline'><a href='../S/144.html#L84'>P</a>                  84 core/number.c  static PN potion_num_number(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L88'>P</a>                  88 core/number.c  static PN potion_num_step(Potion *P, PN cl, PN self, PN end, PN step, PN block) {</span>
<span class='curline'><a href='../S/144.html#L91'>P</a>                  91 core/number.c      PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, PN_NUM(i));</span>
<span class='curline'><a href='../S/144.html#L95'>P</a>                  95 core/number.c  PN potion_num_string(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L105'>P</a>                 105 core/number.c    return potion_str(P, ints);</span>
<span class='curline'><a href='../S/144.html#L108'>P</a>                 108 core/number.c  static PN potion_num_times(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/144.html#L111'>P</a>                 111 core/number.c      PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, PN_NUM(i));</span>
<span class='curline'><a href='../S/144.html#L115'>P</a>                 115 core/number.c  PN potion_num_to(Potion *P, PN cl, PN self, PN end, PN block) {</span>
<span class='curline'><a href='../S/144.html#L119'>P</a>                 119 core/number.c      PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, PN_NUM(i));</span>
<span class='curline'><a href='../S/144.html#L123'>P</a>                 123 core/number.c  static PN potion_num_chr(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L125'>P</a>                 125 core/number.c    return potion_str2(P, &amp;c, 1);</span>
<span class='curline'><a href='../S/144.html#L128'>P</a>                 128 core/number.c  static PN potion_num_is_integer(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L132'>P</a>                 132 core/number.c  static PN potion_num_is_float(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L136'>P</a>                 136 core/number.c  static PN potion_num_integer(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L143'>P</a>                 143 core/number.c  static PN potion_abs(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L148'>P</a>                 148 core/number.c        return (PN) potion_real(P, -d);</span>
<span class='curline'><a href='../S/144.html#L155'>P</a>                 155 core/number.c  void potion_num_init(Potion *P) {</span>
<span class='curline'><a href='../S/145.html#L17'>P</a>                  17 core/objmodel.c PN potion_closure_new(Potion *P, PN_F meth, PN sig, PN_SIZE extra) {</span>
<span class='curline'><a href='../S/145.html#L29'>P</a>                  29 core/objmodel.c PN potion_closure_code(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L35'>P</a>                  35 core/objmodel.c PN potion_closure_string(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/145.html#L42'>P</a>                  42 core/objmodel.c   PN out = potion_byte_str(P, FUNCNAME"(");</span>
<span class='curline'><a href='../S/145.html#L46'>P</a>                  46 core/objmodel.c         if (x++ &gt; 0) pn_printf(P, out, ", ");</span>
<span class='curline'><a href='../S/145.html#L47'>P</a>                  47 core/objmodel.c         potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/145.html#L51'>P</a>                  51 core/objmodel.c   pn_printf(P, out, ")");</span>
<span class='curline'><a href='../S/145.html#L55'>P</a>                  55 core/objmodel.c long potion_arity(Potion *P, PN closure) {</span>
<span class='curline'><a href='../S/145.html#L61'>P</a>                  61 core/objmodel.c PN potion_closure_arity(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L62'>P</a>                  62 core/objmodel.c   return PN_NUM(potion_arity(P, self));</span>
<span class='curline'><a href='../S/145.html#L65'>P</a>                  65 core/objmodel.c PN potion_no_call(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L69'>P</a>                  69 core/objmodel.c void potion_add_metaclass(Potion *P, vPN(Vtable) vt) {</span>
<span class='curline'><a href='../S/145.html#L71'>P</a>                  71 core/objmodel.c   meta-&gt;type = PN_FLEX_SIZE(P-&gt;vts) + PN_TNIL;</span>
<span class='curline'><a href='../S/145.html#L72'>P</a>                  72 core/objmodel.c   PN_FLEX_NEEDS(1, P-&gt;vts, PN_TFLEX, PNFlex, TYPE_BATCH_SIZE);</span>
<span class='curline'><a href='../S/145.html#L73'>P</a>                  73 core/objmodel.c   PN_FLEX_SIZE(P-&gt;vts)++;</span>
<span class='curline'><a href='../S/145.html#L76'>P</a>                  76 core/objmodel.c   meta-&gt;methods = (struct PNTable *)potion_table_empty(P);</span>
<span class='curline'><a href='../S/145.html#L80'>P</a>                  80 core/objmodel.c   PN_TOUCH(P-&gt;vts);</span>
<span class='curline'><a href='../S/145.html#L83'>P</a>                  83 core/objmodel.c PN potion_type_new(Potion *P, PNType t, PN self) {</span>
<span class='curline'><a href='../S/145.html#L88'>P</a>                  88 core/objmodel.c   vt-&gt;methods = (struct PNTable *)potion_table_empty(P);</span>
<span class='curline'><a href='../S/145.html#L91'>P</a>                  91 core/objmodel.c   potion_add_metaclass(P, vt);</span>
<span class='curline'><a href='../S/145.html#L95'>P</a>                  95 core/objmodel.c PN potion_type_new2(Potion *P, PNType t, PN self, PN name) {</span>
<span class='curline'><a href='../S/145.html#L96'>P</a>                  96 core/objmodel.c   vPN(Vtable) vt = (vPN(Vtable))potion_type_new(P, t, self);</span>
<span class='curline'><a href='../S/145.html#L105'>P</a>                 105 core/objmodel.c PN potion_obj_get_call(Potion *P, PN obj) {</span>
<span class='curline'><a href='../S/145.html#L107'>P</a>                 107 core/objmodel.c   if (cl == PN_NIL) cl = P-&gt;call;</span>
<span class='curline'><a href='../S/145.html#L115'>P</a>                 115 core/objmodel.c PN potion_obj_get_callset(Potion *P, PN obj) {</span>
<span class='curline'><a href='../S/145.html#L117'>P</a>                 117 core/objmodel.c   if (cl == PN_NIL) cl = P-&gt;callset;</span>
<span class='curline'><a href='../S/145.html#L129'>P</a>                 129 core/objmodel.c PN potion_class(Potion *P, PN cl, PN self, PN ivars) {</span>
<span class='curline'><a href='../S/145.html#L130'>P</a>                 130 core/objmodel.c   PN parent = (self == P-&gt;lobby ? PN_VTABLE(PN_TOBJECT) : self);</span>
<span class='curline'><a href='../S/145.html#L132'>P</a>                 132 core/objmodel.c   PNType t = PN_FLEX_SIZE(P-&gt;vts) + PN_TNIL;</span>
<span class='curline'><a href='../S/145.html#L133'>P</a>                 133 core/objmodel.c   PN_FLEX_NEEDS(1, P-&gt;vts, PN_TFLEX, PNFlex, TYPE_BATCH_SIZE);</span>
<span class='curline'><a href='../S/145.html#L134'>P</a>                 134 core/objmodel.c   PN_FLEX_SIZE(P-&gt;vts)++;</span>
<span class='curline'><a href='../S/145.html#L135'>P</a>                 135 core/objmodel.c   self = potion_type_new(P, t, parent);</span>
<span class='curline'><a href='../S/145.html#L141'>P</a>                 141 core/objmodel.c     potion_ivars(P, PN_NIL, self, ivars);</span>
<span class='curline'><a href='../S/145.html#L147'>P</a>                 147 core/objmodel.c   PN_TOUCH(P-&gt;vts);</span>
<span class='curline'><a href='../S/145.html#L152'>P</a>                 152 core/objmodel.c PN potion_class_find(Potion *P, PN name) {</span>
<span class='curline'><a href='../S/145.html#L154'>P</a>                 154 core/objmodel.c   for (i=0; i &lt; PN_FLEX_SIZE(P-&gt;vts); i++) {</span>
<span class='curline'><a href='../S/145.html#L155'>P</a>                 155 core/objmodel.c     struct PNVtable *vt = (struct PNVtable *)PN_FLEX_AT(P-&gt;vts, i);</span>
<span class='curline'><a href='../S/145.html#L162'>P</a>                 162 core/objmodel.c PN potion_ivars(Potion *P, PN cl, PN self, PN ivars) {</span>
<span class='curline'><a href='../S/145.html#L167'>P</a>                 167 core/objmodel.c   PNAsm * volatile asmb = potion_asm_new(P);</span>
<span class='curline'><a href='../S/145.html#L168'>P</a>                 168 core/objmodel.c   P-&gt;target.ivars(P, ivars, &amp;asmb);</span>
<span class='curline'><a href='../S/145.html#L177'>P</a>                 177 core/objmodel.c static inline long potion_obj_find_ivar(Potion *P, PN self, PN ivar) {</span>
<span class='curline'><a href='../S/145.html#L191'>P</a>                 191 core/objmodel.c PN potion_obj_get(Potion *P, PN cl, PN self, PN ivar) {</span>
<span class='curline'><a href='../S/145.html#L192'>P</a>                 192 core/objmodel.c   long i = potion_obj_find_ivar(P, self, ivar);</span>
<span class='curline'><a href='../S/145.html#L198'>P</a>                 198 core/objmodel.c PN potion_obj_set(Potion *P, PN cl, PN self, PN ivar, PN value) {</span>
<span class='curline'><a href='../S/145.html#L199'>P</a>                 199 core/objmodel.c   long i = potion_obj_find_ivar(P, self, ivar);</span>
<span class='curline'><a href='../S/145.html#L207'>P</a>                 207 core/objmodel.c PN potion_proto_method(Potion *P, PN cl, PN self, PN args) {</span>
<span class='curline'><a href='../S/145.html#L208'>P</a>                 208 core/objmodel.c   return potion_vm(P, PN_CLOSURE(cl)-&gt;data[0], P-&gt;lobby, args, 0, NULL);</span>
<span class='curline'><a href='../S/145.html#L211'>P</a>                 211 core/objmodel.c PN potion_getter_method(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L215'>P</a>                 215 core/objmodel.c PN potion_def_method(Potion *P, PN closure, PN self, PN key, PN method) {</span>
<span class='curline'><a href='../S/145.html#L225'>P</a>                 225 core/objmodel.c       cl = potion_closure_new(P, (PN_F)potion_proto_method, PN_PROTO(method)-&gt;sig, 1);</span>
<span class='curline'><a href='../S/145.html#L227'>P</a>                 227 core/objmodel.c       cl = potion_closure_new(P, (PN_F)potion_getter_method, PN_NIL, 1);</span>
<span class='curline'><a href='../S/145.html#L238'>P</a>                 238 core/objmodel.c   if (P-&gt;target.mcache != NULL) {</span>
<span class='curline'><a href='../S/145.html#L239'>P</a>                 239 core/objmodel.c     PNAsm * volatile asmb = potion_asm_new(P);</span>
<span class='curline'><a href='../S/145.html#L240'>P</a>                 240 core/objmodel.c     P-&gt;target.mcache(P, vt, &amp;asmb);</span>
<span class='curline'><a href='../S/145.html#L254'>P</a>                 254 core/objmodel.c PN potion_lookup(Potion *P, PN closure, PN self, PN key) {</span>
<span class='curline'><a href='../S/145.html#L265'>P</a>                 265 core/objmodel.c PN potion_bind(Potion *P, PN rcv, PN msg) {</span>
<span class='curline'><a href='../S/145.html#L277'>P</a>                 277 core/objmodel.c       ? potion_lookup(P, 0, vt, msg)</span>
<span class='curline'><a href='../S/145.html#L285'>P</a>                 285 core/objmodel.c PN potion_message(Potion *P, PN rcv, PN msg) {</span>
<span class='curline'><a href='../S/145.html#L286'>P</a>                 286 core/objmodel.c   PN cl = potion_bind(P, rcv, msg);</span>
<span class='curline'><a href='../S/145.html#L288'>P</a>                 288 core/objmodel.c     return PN_CLOSURE(cl)-&gt;method(P, cl, rcv, PN_NIL);</span>
<span class='curline'><a href='../S/145.html#L292'>P</a>                 292 core/objmodel.c PN potion_obj_add(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L296'>P</a>                 296 core/objmodel.c PN potion_obj_sub(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L300'>P</a>                 300 core/objmodel.c PN potion_obj_mult(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L304'>P</a>                 304 core/objmodel.c PN potion_obj_div(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L308'>P</a>                 308 core/objmodel.c PN potion_obj_rem(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L312'>P</a>                 312 core/objmodel.c PN potion_obj_bitn(Potion *P, PN a) {</span>
<span class='curline'><a href='../S/145.html#L316'>P</a>                 316 core/objmodel.c PN potion_obj_bitl(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L320'>P</a>                 320 core/objmodel.c PN potion_obj_bitr(Potion *P, PN a, PN b) {</span>
<span class='curline'><a href='../S/145.html#L324'>P</a>                 324 core/objmodel.c PN potion_ref(Potion *P, PN data) {</span>
<span class='curline'><a href='../S/145.html#L331'>P</a>                 331 core/objmodel.c PN potion_ref_string(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/145.html#L332'>P</a>                 332 core/objmodel.c   return potion_str(P, "&lt;ref&gt;");</span>
<span class='curline'><a href='../S/145.html#L335'>P</a>                 335 core/objmodel.c PN potion_object_string(Potion *P, PN cl, vPN(Object) self) {</span>
<span class='curline'><a href='../S/145.html#L338'>P</a>                 338 core/objmodel.c     PN str = potion_byte_str2(P, NULL, 0);</span>
<span class='curline'><a href='../S/145.html#L339'>P</a>                 339 core/objmodel.c     pn_printf(P, str, "&lt;%s %x&gt;", PN_STR_PTR(vt-&gt;name), (PN)self);</span>
<span class='curline'><a href='../S/145.html#L343'>P</a>                 343 core/objmodel.c   return potion_str(P, "&lt;object&gt;");</span>
<span class='curline'><a href='../S/145.html#L346'>P</a>                 346 core/objmodel.c PN potion_object_forward(Potion *P, PN cl, PN self, PN method) {</span>
<span class='curline'><a href='../S/145.html#L351'>P</a>                 351 core/objmodel.c PN potion_object_send(Potion *P, PN cl, PN self, PN method) {</span>
<span class='curline'><a href='../S/145.html#L355'>P</a>                 355 core/objmodel.c PN potion_object_new(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L362'>P</a>                 362 core/objmodel.c     potion_type_size(P, (struct PNObject *)self) - sizeof(struct PNObject) + vt-&gt;ivlen * sizeof(PN));</span>
<span class='curline'><a href='../S/145.html#L365'>P</a>                 365 core/objmodel.c PN potion_get_metaclass(Potion *P, PN cl, vPN(Vtable) self) {</span>
<span class='curline'><a href='../S/145.html#L369'>P</a>                 369 core/objmodel.c static PN potion_lobby_self(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L373'>P</a>                 373 core/objmodel.c PN potion_lobby_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L376'>P</a>                 376 core/objmodel.c     PN_IS_METACLASS(self) ? potion_str(P, "&lt;metaclass&gt;") : potion_str(P, "&lt;class&gt;");</span>
<span class='curline'><a href='../S/145.html#L379'>P</a>                 379 core/objmodel.c PN potion_lobby_kind(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L385'>P</a>                 385 core/objmodel.c static void potion_init_class_reference(Potion *P, PN name, PN vt) {</span>
<span class='curline'><a href='../S/145.html#L386'>P</a>                 386 core/objmodel.c   potion_send(P-&gt;lobby, PN_def, name, vt);</span>
<span class='curline'><a href='../S/145.html#L390'>P</a>                 390 core/objmodel.c   ((struct PNVtable *)vt)-&gt;meta-&gt;name = potion_str(P, meta_str);</span>
<span class='curline'><a href='../S/145.html#L393'>P</a>                 393 core/objmodel.c void potion_define_global(Potion *P, PN name, PN val) {</span>
<span class='curline'><a href='../S/145.html#L395'>P</a>                 395 core/objmodel.c     potion_init_class_reference(P, name, val);</span>
<span class='curline'><a href='../S/145.html#L397'>P</a>                 397 core/objmodel.c     potion_send(P-&gt;lobby, PN_def, name, val);</span>
<span class='curline'><a href='../S/145.html#L401'>P</a>                 401 core/objmodel.c PN potion_about(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L402'>P</a>                 402 core/objmodel.c   PN about = potion_table_empty(P);</span>
<span class='curline'><a href='../S/145.html#L403'>P</a>                 403 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "_why"),</span>
<span class='curline'><a href='../S/145.html#L404'>P</a>                 404 core/objmodel.c     potion_str(P, "I love _why, but learning Ruby from him is like trying to learn to pole vault "</span>
<span class='curline'><a href='../S/145.html#L406'>P</a>                 406 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "minimalism"),</span>
<span class='curline'><a href='../S/145.html#L407'>P</a>                 407 core/objmodel.c     potion_str(P, "The sad thing about minimalism is that it has a name. "</span>
<span class='curline'><a href='../S/145.html#L409'>P</a>                 409 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "stage fright"),</span>
<span class='curline'><a href='../S/145.html#L410'>P</a>                 410 core/objmodel.c     potion_str(P, "Recently no move on Potion. I git pull everyday. "</span>
<span class='curline'><a href='../S/145.html#L412'>P</a>                 412 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "terms of use"),</span>
<span class='curline'><a href='../S/145.html#L413'>P</a>                 413 core/objmodel.c     potion_str(P, "Setting up my new anarchist bulletin board so that during registration, if you accept "</span>
<span class='curline'><a href='../S/145.html#L415'>P</a>                 415 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "help"),</span>
<span class='curline'><a href='../S/145.html#L416'>P</a>                 416 core/objmodel.c     potion_str(P, "`man which` - Evan Weaver"));</span>
<span class='curline'><a href='../S/145.html#L417'>P</a>                 417 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "ts"),</span>
<span class='curline'><a href='../S/145.html#L418'>P</a>                 418 core/objmodel.c     potion_str(P, "pigeon% - Guy Decoux (1955 - 2008)"));</span>
<span class='curline'><a href='../S/145.html#L419'>P</a>                 419 core/objmodel.c   potion_table_put(P, PN_NIL, about, potion_str(P, "summary"),</span>
<span class='curline'><a href='../S/145.html#L420'>P</a>                 420 core/objmodel.c     potion_str(P, "I smell as how a leprechaun looks. - Alana Post"));</span>
<span class='curline'><a href='../S/145.html#L424'>P</a>                 424 core/objmodel.c PN potion_exit(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L425'>P</a>                 425 core/objmodel.c   potion_destroy(P);</span>
<span class='curline'><a href='../S/145.html#L429'>P</a>                 429 core/objmodel.c void potion_object_init(Potion *P) {</span>
<span class='curline'><a href='../S/145.html#L442'>P</a>                 442 core/objmodel.c void potion_lobby_init(Potion *P) {</span>
<span class='curline'><a href='../S/145.html#L455'>P</a>                 455 core/objmodel.c   potion_init_class_reference(P, potion_str(P, LOBBY_NAME),     P-&gt;lobby);</span>
<span class='curline'><a href='../S/145.html#L456'>P</a>                 456 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Mixin"),        PN_VTABLE(PN_TVTABLE));</span>
<span class='curline'><a href='../S/145.html#L457'>P</a>                 457 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Object"),       PN_VTABLE(PN_TOBJECT));</span>
<span class='curline'><a href='../S/145.html#L458'>P</a>                 458 core/objmodel.c   potion_init_class_reference(P, potion_str(P, NILKIND_NAME),   PN_VTABLE(PN_TNIL));</span>
<span class='curline'><a href='../S/145.html#L459'>P</a>                 459 core/objmodel.c   potion_init_class_reference(P, potion_str(P, NUMBER_NAME),    PN_VTABLE(PN_TNUMBER));</span>
<span class='curline'><a href='../S/145.html#L460'>P</a>                 460 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Boolean"),      PN_VTABLE(PN_TBOOLEAN));</span>
<span class='curline'><a href='../S/145.html#L461'>P</a>                 461 core/objmodel.c   potion_init_class_reference(P, potion_str(P, STRING_NAME),    PN_VTABLE(PN_TSTRING));</span>
<span class='curline'><a href='../S/145.html#L462'>P</a>                 462 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Table"),        PN_VTABLE(PN_TTABLE));</span>
<span class='curline'><a href='../S/145.html#L463'>P</a>                 463 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Function"),     PN_VTABLE(PN_TCLOSURE));</span>
<span class='curline'><a href='../S/145.html#L464'>P</a>                 464 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Tuple"),        PN_VTABLE(PN_TTUPLE));</span>
<span class='curline'><a href='../S/145.html#L465'>P</a>                 465 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "File"),         PN_VTABLE(PN_TFILE));</span>
<span class='curline'><a href='../S/145.html#L466'>P</a>                 466 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Potion"),       PN_VTABLE(PN_TSTATE));</span>
<span class='curline'><a href='../S/145.html#L467'>P</a>                 467 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Source"),       PN_VTABLE(PN_TSOURCE));</span>
<span class='curline'><a href='../S/145.html#L468'>P</a>                 468 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Bytes"),        PN_VTABLE(PN_TBYTES));</span>
<span class='curline'><a href='../S/145.html#L469'>P</a>                 469 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Compiled"),     PN_VTABLE(PN_TPROTO));</span>
<span class='curline'><a href='../S/145.html#L470'>P</a>                 470 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Ref"),          PN_VTABLE(PN_TWEAK));</span>
<span class='curline'><a href='../S/145.html#L471'>P</a>                 471 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Lick"),         PN_VTABLE(PN_TLICK));</span>
<span class='curline'><a href='../S/145.html#L472'>P</a>                 472 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Error"),        PN_VTABLE(PN_TERROR));</span>
<span class='curline'><a href='../S/145.html#L473'>P</a>                 473 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Continuation"), PN_VTABLE(PN_TCONT));</span>
<span class='curline'><a href='../S/145.html#L475'>P</a>                 475 core/objmodel.c   potion_init_class_reference(P, potion_str(P, "Num"),        PN_VTABLE(PN_TDECIMAL));</span>
<span class='curline'><a href='../S/145.html#L478'>P</a>                 478 core/objmodel.c   P-&gt;call = P-&gt;callset = PN_FUNC(potion_no_call, 0);</span>
<span class='curline'><a href='../S/145.html#L484'>P</a>                 484 core/objmodel.c   potion_method(P-&gt;lobby, "about", potion_about, 0);</span>
<span class='curline'><a href='../S/145.html#L485'>P</a>                 485 core/objmodel.c   potion_method(P-&gt;lobby, "here", potion_callcc, 0);</span>
<span class='curline'><a href='../S/145.html#L486'>P</a>                 486 core/objmodel.c   potion_method(P-&gt;lobby, "exit", potion_exit, 0);</span>
<span class='curline'><a href='../S/145.html#L487'>P</a>                 487 core/objmodel.c   potion_method(P-&gt;lobby, "kind", potion_lobby_kind, 0);</span>
<span class='curline'><a href='../S/145.html#L488'>P</a>                 488 core/objmodel.c   potion_method(P-&gt;lobby, "srand", potion_srand, "seed=N");</span>
<span class='curline'><a href='../S/145.html#L489'>P</a>                 489 core/objmodel.c   potion_method(P-&gt;lobby, "rand", potion_rand, 0);</span>
<span class='curline'><a href='../S/145.html#L490'>P</a>                 490 core/objmodel.c   potion_method(P-&gt;lobby, "self", potion_lobby_self, 0);</span>
<span class='curline'><a href='../S/145.html#L491'>P</a>                 491 core/objmodel.c   potion_method(P-&gt;lobby, "string", potion_lobby_string, 0);</span>
<span class='curline'><a href='../S/129.html#L33'>P</a>                  33 core/p2.h      PN p2_source_load(Potion *P, PN cl, PN buf);</span>
<span class='curline'><a href='../S/129.html#L43'>P</a>                  43 core/p2.h      #define P2_FUNC(f, s)   potion_closure_new(P, (PN_F)f, p2_sig(P, s), 0)</span>
<span class='curline'><a href='../S/147.html#L109'>P</a>                 109 core/potion.h  #define PN_VTABLE(t)    (PN_FLEX_AT(P-&gt;vts, PN_TYPE_ID(t)))</span>
<span class='curline'><a href='../S/147.html#L110'>P</a>                 110 core/potion.h  #define PN_TYPECHECK(t) (PN_TYPE_ID(t) &gt;= 0 &amp;&amp; PN_TYPE_ID(t) &lt; PN_FLEX_SIZE(P-&gt;vts))</span>
<span class='curline'><a href='../S/147.html#L154'>P</a>                 154 core/potion.h  #define PN_STR_B(x)     potion_bytes_string(P, PN_NIL, x)</span>
<span class='curline'><a href='../S/147.html#L158'>P</a>                 158 core/potion.h  #define PN_FUNC(f, s)   potion_closure_new(P, (PN_F)f, potion_sig(P, s), 0)</span>
<span class='curline'><a href='../S/147.html#L160'>P</a>                 160 core/potion.h  #define PN_TOUCH(x)     potion_gc_update(P, (PN)(x))</span>
<span class='curline'><a href='../S/147.html#L175'>P</a>                 175 core/potion.h  #define PN_TUP0()       potion_tuple_empty(P)</span>
<span class='curline'><a href='../S/147.html#L176'>P</a>                 176 core/potion.h  #define PN_TUP(X)       potion_tuple_new(P, X)</span>
<span class='curline'><a href='../S/147.html#L177'>P</a>                 177 core/potion.h  #define PN_PUSH(T, X)   potion_tuple_push(P, T, X)</span>
<span class='curline'><a href='../S/147.html#L178'>P</a>                 178 core/potion.h  #define PN_GET(T, X)    potion_tuple_find(P, T, X)</span>
<span class='curline'><a href='../S/147.html#L179'>P</a>                 179 core/potion.h  #define PN_PUT(T, X)    potion_tuple_push_unless(P, T, X)</span>
<span class='curline'><a href='../S/147.html#L424'>P</a>                 424 core/potion.h  typedef void (*OP_F)(Potion *P, struct PNProto *, PNAsm * volatile *, ...);</span>
<span class='curline'><a href='../S/147.html#L513'>P</a>                 513 core/potion.h  static inline void *potion_gc_alloc(Potion *P, PNType vt, int siz) {</span>
<span class='curline'><a href='../S/147.html#L514'>P</a>                 514 core/potion.h    struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/147.html#L520'>P</a>                 520 core/potion.h      potion_garbagecollect(P, siz + 4 * sizeof(double), 0);</span>
<span class='curline'><a href='../S/147.html#L529'>P</a>                 529 core/potion.h  static inline void *potion_gc_calloc(Potion *P, PNType vt, int siz) {</span>
<span class='curline'><a href='../S/147.html#L530'>P</a>                 530 core/potion.h    return potion_gc_alloc(P, vt, siz);</span>
<span class='curline'><a href='../S/147.html#L533'>P</a>                 533 core/potion.h  static inline void potion_gc_update(Potion *P, PN x) {</span>
<span class='curline'><a href='../S/147.html#L534'>P</a>                 534 core/potion.h    struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/147.html#L542'>P</a>                 542 core/potion.h      potion_garbagecollect(P, POTION_PAGESIZE, 0);</span>
<span class='curline'><a href='../S/147.html#L545'>P</a>                 545 core/potion.h  static inline void *potion_gc_realloc(Potion *P, PNType vt, struct PNObject * volatile obj, PN_SIZE sz) {</span>
<span class='curline'><a href='../S/147.html#L550'>P</a>                 550 core/potion.h      oldsz = potion_type_size(P, (const struct PNObject *)obj);</span>
<span class='curline'><a href='../S/147.html#L555'>P</a>                 555 core/potion.h    dst = potion_gc_alloc(P, vt, sz);</span>
<span class='curline'><a href='../S/147.html#L561'>P</a>                 561 core/potion.h      potion_gc_update(P, (PN)obj);</span>
<span class='curline'><a href='../S/147.html#L567'>P</a>                 567 core/potion.h  static inline struct PNData *potion_data_alloc(Potion *P, int siz) {</span>
<span class='curline'><a href='../S/147.html#L568'>P</a>                 568 core/potion.h    struct PNData *data = potion_gc_alloc(P, PN_TUSER, sizeof(struct PNData) + siz);</span>
<span class='curline'><a href='../S/147.html#L585'>P</a>                 585 core/potion.h      PN c = potion_bind(P, r, (MSG)); \</span>
<span class='curline'><a href='../S/147.html#L587'>P</a>                 587 core/potion.h        c = ((struct PNClosure *)c)-&gt;method(P, c, r, ##ARGS); \</span>
<span class='curline'><a href='../S/147.html#L592'>P</a>                 592 core/potion.h    potion_send(RCV, PN_def, potion_str(P, MSG), PN_FUNC(FN, SIG))</span>
<span class='curline'><a href='../S/147.html#L594'>P</a>                 594 core/potion.h    potion_send(((struct PNVtable *)(RCV))-&gt;meta, PN_def, potion_str(P, MSG), PN_FUNC(FN, SIG))</span>
<span class='curline'><a href='../S/147.html#L614'>P</a>                 614 core/potion.h  PN potion_strcat(Potion *P, char *str, char *str2);</span>
<span class='curline'><a href='../S/147.html#L624'>P</a>                 624 core/potion.h  PN potion_def_method(Potion *P, PN, PN, PN, PN);</span>
<span class='curline'><a href='../S/148.html#L15'>P</a>                  15 core/primitive.c static PN potion_nil_is_defined(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L18'>P</a>                  18 core/primitive.c PN potion_any_is_defined(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L25'>P</a>                  25 core/primitive.c static PN potion_nil_is_nil(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L28'>P</a>                  28 core/primitive.c PN potion_any_is_nil(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L36'>P</a>                  36 core/primitive.c static PN potion_bool_number(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L43'>P</a>                  43 core/primitive.c static PN potion_bool_string(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L44'>P</a>                  44 core/primitive.c   if (PN_TEST(self)) return potion_str(P, "true");</span>
<span class='curline'><a href='../S/148.html#L45'>P</a>                  45 core/primitive.c   return potion_str(P, "false");</span>
<span class='curline'><a href='../S/148.html#L48'>P</a>                  48 core/primitive.c void potion_primitive_init(Potion *P) {</span>
<span class='curline'><a href='../S/148.html#L57'>P</a>                  57 core/primitive.c   potion_send(nil_vt, PN_def, PN_string, potion_str(P, NIL_NAME));</span>
<span class='curline'><a href='../S/149.html#L20'>P</a>                  20 core/string.c  void potion_add_str(Potion *P, PN s) {</span>
<span class='curline'><a href='../S/149.html#L22'>P</a>                  22 core/string.c    kh_put(str, P-&gt;strings, s, &amp;ret);</span>
<span class='curline'><a href='../S/149.html#L23'>P</a>                  23 core/string.c    PN_QUICK_FWD(struct PNTable *, P-&gt;strings);</span>
<span class='curline'><a href='../S/149.html#L26'>P</a>                  26 core/string.c  PN potion_lookup_str(Potion *P, const char *str) {</span>
<span class='curline'><a href='../S/149.html#L27'>P</a>                  27 core/string.c    vPN(Table) t = P-&gt;strings;</span>
<span class='curline'><a href='../S/149.html#L33'>P</a>                  33 core/string.c  PN potion_str(Potion *P, const char *str) {</span>
<span class='curline'><a href='../S/149.html#L34'>P</a>                  34 core/string.c    PN val = potion_lookup_str(P, str);</span>
<span class='curline'><a href='../S/149.html#L41'>P</a>                  41 core/string.c      potion_add_str(P, (PN)s);</span>
<span class='curline'><a href='../S/149.html#L47'>P</a>                  47 core/string.c  PN potion_str2(Potion *P, char *str, size_t len) {</span>
<span class='curline'><a href='../S/149.html#L55'>P</a>                  55 core/string.c    exist = potion_lookup_str(P, s-&gt;chars);</span>
<span class='curline'><a href='../S/149.html#L57'>P</a>                  57 core/string.c      potion_add_str(P, (PN)s);</span>
<span class='curline'><a href='../S/149.html#L63'>P</a>                  63 core/string.c  PN potion_strcat(Potion *P, char *str, char *str2) {</span>
<span class='curline'><a href='../S/149.html#L71'>P</a>                  71 core/string.c    exist = potion_lookup_str(P, s-&gt;chars);</span>
<span class='curline'><a href='../S/149.html#L73'>P</a>                  73 core/string.c      potion_add_str(P, (PN)s);</span>
<span class='curline'><a href='../S/149.html#L79'>P</a>                  79 core/string.c  PN potion_str_format(Potion *P, const char *format, ...) {</span>
<span class='curline'><a href='../S/149.html#L98'>P</a>                  98 core/string.c  static PN potion_str_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L104'>P</a>                 104 core/string.c  static PN potion_str_eval(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L105'>P</a>                 105 core/string.c    return potion_eval(P, self, POTION_JIT);</span>
<span class='curline'><a href='../S/149.html#L110'>P</a>                 110 core/string.c  static PN potion_str_number(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L126'>P</a>                 126 core/string.c    return potion_decimal(P, PN_STR_PTR(self), PN_STR_LEN(self));</span>
<span class='curline'><a href='../S/149.html#L131'>P</a>                 131 core/string.c  static PN potion_str_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L137'>P</a>                 137 core/string.c  static PN potion_str_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L174'>P</a>                 174 core/string.c  static PN potion_str_slice(Potion *P, PN cl, PN self, PN start, PN end) {</span>
<span class='curline'><a href='../S/149.html#L184'>P</a>                 184 core/string.c    return potion_str2(P, str + startoffset, endoffset - startoffset);</span>
<span class='curline'><a href='../S/149.html#L189'>P</a>                 189 core/string.c  static PN potion_str_bytes(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L190'>P</a>                 190 core/string.c    return potion_byte_str2(P, PN_STR_PTR(self), PN_STR_LEN(self));</span>
<span class='curline'><a href='../S/149.html#L197'>P</a>                 197 core/string.c  static PN potion_str_add(Potion *P, PN cl, PN self, PN x) {</span>
<span class='curline'><a href='../S/149.html#L203'>P</a>                 203 core/string.c    str = potion_str2(P, s, PN_STR_LEN(self) + PN_STR_LEN(x));</span>
<span class='curline'><a href='../S/149.html#L212'>P</a>                 212 core/string.c  static PN potion_str_ord(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L223'>P</a>                 223 core/string.c  static PN potion_str_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/149.html#L224'>P</a>                 224 core/string.c    return potion_str_slice(P, cl, self, index, PN_NUM(PN_INT(index) + 1));</span>
<span class='curline'><a href='../S/149.html#L227'>P</a>                 227 core/string.c  PN potion_byte_str(Potion *P, const char *str) {</span>
<span class='curline'><a href='../S/149.html#L228'>P</a>                 228 core/string.c    return potion_byte_str2(P, str, strlen(str));</span>
<span class='curline'><a href='../S/149.html#L231'>P</a>                 231 core/string.c  PN potion_byte_str2(Potion *P, const char *str, size_t len) {</span>
<span class='curline'><a href='../S/149.html#L232'>P</a>                 232 core/string.c    vPN(Bytes) s = (struct PNBytes *)potion_bytes(P, len);</span>
<span class='curline'><a href='../S/149.html#L238'>P</a>                 238 core/string.c  PN potion_bytes(Potion *P, size_t len) {</span>
<span class='curline'><a href='../S/149.html#L246'>P</a>                 246 core/string.c  PN_SIZE pn_printf(Potion *P, PN bytes, const char *format, ...) {</span>
<span class='curline'><a href='../S/149.html#L269'>P</a>                 269 core/string.c  void potion_bytes_obj_string(Potion *P, PN bytes, PN obj) {</span>
<span class='curline'><a href='../S/149.html#L270'>P</a>                 270 core/string.c    potion_bytes_append(P, 0, bytes, potion_send(obj, PN_string));</span>
<span class='curline'><a href='../S/149.html#L277'>P</a>                 277 core/string.c  PN potion_bytes_append(Potion *P, PN cl, PN self, PN str) {</span>
<span class='curline'><a href='../S/149.html#L297'>P</a>                 297 core/string.c  static PN potion_bytes_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L305'>P</a>                 305 core/string.c  PN potion_bytes_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L306'>P</a>                 306 core/string.c    PN exist = potion_lookup_str(P, PN_STR_PTR(self = potion_fwd(self)));</span>
<span class='curline'><a href='../S/149.html#L312'>P</a>                 312 core/string.c      potion_add_str(P, (PN)s);</span>
<span class='curline'><a href='../S/149.html#L320'>P</a>                 320 core/string.c  static PN potion_bytes_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L330'>P</a>                 330 core/string.c  static PN potion_bytes_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/149.html#L335'>P</a>                 335 core/string.c      PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, potion_byte_str2(P, &amp;s[i], 1));</span>
<span class='curline'><a href='../S/149.html#L344'>P</a>                 344 core/string.c  static PN potion_bytes_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/149.html#L351'>P</a>                 351 core/string.c    return potion_byte_str2(P, &amp;c, 1);</span>
<span class='curline'><a href='../S/149.html#L354'>P</a>                 354 core/string.c  void potion_str_hash_init(Potion *P) {</span>
<span class='curline'><a href='../S/149.html#L355'>P</a>                 355 core/string.c    P-&gt;strings = PN_CALLOC_N(PN_TSTRINGS, struct PNTable, 0);</span>
<span class='curline'><a href='../S/149.html#L358'>P</a>                 358 core/string.c  void potion_str_init(Potion *P) {</span>
<span class='curline'><a href='../S/150.html#L18'>P</a>                  18 core/table.c   PN potion_table_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L20'>P</a>                  20 core/table.c     PN out = potion_byte_str(P, "(");</span>
<span class='curline'><a href='../S/150.html#L24'>P</a>                  24 core/table.c         if (i++ &gt; 0) pn_printf(P, out, ", ");</span>
<span class='curline'><a href='../S/150.html#L25'>P</a>                  25 core/table.c         potion_bytes_obj_string(P, out, kh_key(PN, t, k));</span>
<span class='curline'><a href='../S/150.html#L26'>P</a>                  26 core/table.c         pn_printf(P, out, "=");</span>
<span class='curline'><a href='../S/150.html#L27'>P</a>                  27 core/table.c         potion_bytes_obj_string(P, out, kh_val(PN, t, k));</span>
<span class='curline'><a href='../S/150.html#L29'>P</a>                  29 core/table.c     pn_printf(P, out, ")");</span>
<span class='curline'><a href='../S/150.html#L36'>P</a>                  36 core/table.c   PN potion_table_empty(Potion *P) {</span>
<span class='curline'><a href='../S/150.html#L41'>P</a>                  41 core/table.c   PN potion_table_cast(Potion *P, PN self) {</span>
<span class='curline'><a href='../S/150.html#L51'>P</a>                  51 core/table.c       ((struct PNFwd *)self)-&gt;siz = potion_type_size(P, (const struct PNObject *)self);</span>
<span class='curline'><a href='../S/150.html#L63'>P</a>                  63 core/table.c   PN potion_table_at(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L74'>P</a>                  74 core/table.c   PN potion_table_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/150.html#L79'>P</a>                  79 core/table.c         PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, kh_key(PN, t, k), kh_val(PN, t, k));</span>
<span class='curline'><a href='../S/150.html#L89'>P</a>                  89 core/table.c   PN potion_table_put(Potion *P, PN cl, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L103'>P</a>                 103 core/table.c   PN potion_table_remove(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L114'>P</a>                 114 core/table.c   PN potion_table_set(Potion *P, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L116'>P</a>                 116 core/table.c     return potion_table_put(P, PN_NIL, potion_table_cast(P, self), key, value);</span>
<span class='curline'><a href='../S/150.html#L122'>P</a>                 122 core/table.c   PN potion_table_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L134'>P</a>                 134 core/table.c   PN potion_tuple_empty(Potion *P) {</span>
<span class='curline'><a href='../S/150.html#L139'>P</a>                 139 core/table.c   PN potion_tuple_with_size(Potion *P, unsigned long size) {</span>
<span class='curline'><a href='../S/150.html#L144'>P</a>                 144 core/table.c   PN potion_tuple_new(Potion *P, PN value) {</span>
<span class='curline'><a href='../S/150.html#L150'>P</a>                 150 core/table.c   PN potion_tuple_push(Potion *P, PN tuple, PN value) {</span>
<span class='curline'><a href='../S/150.html#L163'>P</a>                 163 core/table.c   PN potion_tuple_append(Potion *P, PN cl, PN self, PN value) {</span>
<span class='curline'><a href='../S/150.html#L164'>P</a>                 164 core/table.c     return potion_tuple_push(P, self, value);</span>
<span class='curline'><a href='../S/150.html#L170'>P</a>                 170 core/table.c   PN_SIZE potion_tuple_find(Potion *P, PN tuple, PN value) {</span>
<span class='curline'><a href='../S/150.html#L177'>P</a>                 177 core/table.c   PN_SIZE potion_tuple_push_unless(Potion *P, PN tuple, PN value) {</span>
<span class='curline'><a href='../S/150.html#L178'>P</a>                 178 core/table.c     PN_SIZE idx = potion_tuple_find(P, tuple, value);</span>
<span class='curline'><a href='../S/150.html#L181'>P</a>                 181 core/table.c     potion_tuple_push(P, tuple, value);</span>
<span class='curline'><a href='../S/150.html#L189'>P</a>                 189 core/table.c   PN potion_tuple_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/150.html#L199'>P</a>                 199 core/table.c   PN potion_tuple_clone(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L210'>P</a>                 210 core/table.c   PN potion_tuple_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/150.html#L211'>P</a>                 211 core/table.c     int with_index = potion_arity(P, block) &gt;= 2;</span>
<span class='curline'><a href='../S/150.html#L214'>P</a>                 214 core/table.c         PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, v, PN_NUM(i));</span>
<span class='curline'><a href='../S/150.html#L216'>P</a>                 216 core/table.c         PN_CLOSURE(block)-&gt;method(P, block, P-&gt;lobby, v);</span>
<span class='curline'><a href='../S/150.html#L224'>P</a>                 224 core/table.c   PN potion_tuple_first(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L233'>P</a>                 233 core/table.c   PN potion_tuple_join(Potion *P, PN cl, PN self, PN sep) {</span>
<span class='curline'><a href='../S/150.html#L234'>P</a>                 234 core/table.c     PN out = potion_byte_str(P, "");</span>
<span class='curline'><a href='../S/150.html#L236'>P</a>                 236 core/table.c       if (i &gt; 0 &amp;&amp; sep != PN_NIL) potion_bytes_obj_string(P, out, sep);</span>
<span class='curline'><a href='../S/150.html#L237'>P</a>                 237 core/table.c       potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/150.html#L245'>P</a>                 245 core/table.c   PN potion_tuple_last(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L254'>P</a>                 254 core/table.c   PN potion_tuple_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L256'>P</a>                 256 core/table.c     PN out = potion_byte_str(P, "(");</span>
<span class='curline'><a href='../S/150.html#L258'>P</a>                 258 core/table.c       if (i &gt; 0) pn_printf(P, out, ", ");</span>
<span class='curline'><a href='../S/150.html#L260'>P</a>                 260 core/table.c       potion_bytes_obj_string(P, out, v);</span>
<span class='curline'><a href='../S/150.html#L265'>P</a>                 265 core/table.c     pn_printf(P, out, licks ? "]" : ")");</span>
<span class='curline'><a href='../S/150.html#L272'>P</a>                 272 core/table.c   PN potion_tuple_pop(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L286'>P</a>                 286 core/table.c   PN potion_tuple_put(Potion *P, PN cl, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L295'>P</a>                 295 core/table.c         return potion_tuple_push(P, self, value);</span>
<span class='curline'><a href='../S/150.html#L297'>P</a>                 297 core/table.c     return potion_table_put(P, PN_NIL, potion_table_cast(P, self), key, value);</span>
<span class='curline'><a href='../S/150.html#L303'>P</a>                 303 core/table.c   PN potion_tuple_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L313'>P</a>                 313 core/table.c   PN potion_tuple_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L320'>P</a>                 320 core/table.c   PN potion_tuple_reverse(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L322'>P</a>                 322 core/table.c     PN tuple = potion_tuple_with_size(P, len);</span>
<span class='curline'><a href='../S/150.html#L370'>P</a>                 370 core/table.c   PN potion_lobby_list(Potion *P, PN cl, PN self, PN size) {</span>
<span class='curline'><a href='../S/150.html#L371'>P</a>                 371 core/table.c     return potion_tuple_with_size(P, PN_INT(size));</span>
<span class='curline'><a href='../S/150.html#L374'>P</a>                 374 core/table.c   void potion_table_init(Potion *P) {</span>
<span class='curline'><a href='../S/150.html#L402'>P</a>                 402 core/table.c     potion_method(P-&gt;lobby, "list", potion_lobby_list, "length=N");</span>
<span class='curline'><a href='../S/130.html#L94'>P</a>                  94 core/vm-ppc.c  void potion_ppc_setup(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/130.html#L98'>P</a>                  98 core/vm-ppc.c  void potion_ppc_stack(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long rsp) {</span>
<span class='curline'><a href='../S/130.html#L104'>P</a>                 104 core/vm-ppc.c  void potion_ppc_registers(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long start) {</span>
<span class='curline'><a href='../S/130.html#L107'>P</a>                 107 core/vm-ppc.c  void potion_ppc_local(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long reg, long arg) {</span>
<span class='curline'><a href='../S/130.html#L110'>P</a>                 110 core/vm-ppc.c  void potion_ppc_upvals(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long lregs, long start, int upc) {</span>
<span class='curline'><a href='../S/130.html#L113'>P</a>                 113 core/vm-ppc.c  void potion_ppc_jmpedit(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, unsigned char *asmj, int dist) {</span>
<span class='curline'><a href='../S/130.html#L122'>P</a>                 122 core/vm-ppc.c  void potion_ppc_move(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L127'>P</a>                 127 core/vm-ppc.c  void potion_ppc_loadpn(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L132'>P</a>                 132 core/vm-ppc.c  void potion_ppc_loadk(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L139'>P</a>                 139 core/vm-ppc.c  void potion_ppc_self(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L142'>P</a>                 142 core/vm-ppc.c  void potion_ppc_getlocal(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long regs) {</span>
<span class='curline'><a href='../S/130.html#L147'>P</a>                 147 core/vm-ppc.c  void potion_ppc_setlocal(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long regs) {</span>
<span class='curline'><a href='../S/130.html#L152'>P</a>                 152 core/vm-ppc.c  void potion_ppc_getupval(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long lregs) {</span>
<span class='curline'><a href='../S/130.html#L155'>P</a>                 155 core/vm-ppc.c  void potion_ppc_setupval(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long lregs) {</span>
<span class='curline'><a href='../S/130.html#L158'>P</a>                 158 core/vm-ppc.c  void potion_ppc_global(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L161'>P</a>                 161 core/vm-ppc.c  void potion_ppc_newtuple(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L164'>P</a>                 164 core/vm-ppc.c  void potion_ppc_settuple(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L167'>P</a>                 167 core/vm-ppc.c  void potion_ppc_search(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L170'>P</a>                 170 core/vm-ppc.c  void potion_ppc_settable(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L173'>P</a>                 173 core/vm-ppc.c  void potion_ppc_newlick(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L176'>P</a>                 176 core/vm-ppc.c  void potion_ppc_getpath(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L179'>P</a>                 179 core/vm-ppc.c  void potion_ppc_setpath(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L182'>P</a>                 182 core/vm-ppc.c  void potion_ppc_add(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L189'>P</a>                 189 core/vm-ppc.c  void potion_ppc_sub(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L196'>P</a>                 196 core/vm-ppc.c  void potion_ppc_mult(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L203'>P</a>                 203 core/vm-ppc.c  void potion_ppc_div(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L210'>P</a>                 210 core/vm-ppc.c  void potion_ppc_rem(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L220'>P</a>                 220 core/vm-ppc.c  void potion_ppc_pow(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L232'>P</a>                 232 core/vm-ppc.c  void potion_ppc_neq(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L237'>P</a>                 237 core/vm-ppc.c  void potion_ppc_eq(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L242'>P</a>                 242 core/vm-ppc.c  void potion_ppc_lt(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L247'>P</a>                 247 core/vm-ppc.c  void potion_ppc_lte(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L252'>P</a>                 252 core/vm-ppc.c  void potion_ppc_gt(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L257'>P</a>                 257 core/vm-ppc.c  void potion_ppc_gte(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L262'>P</a>                 262 core/vm-ppc.c  void potion_ppc_bitn(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L265'>P</a>                 265 core/vm-ppc.c  void potion_ppc_bitl(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L272'>P</a>                 272 core/vm-ppc.c  void potion_ppc_bitr(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L279'>P</a>                 279 core/vm-ppc.c  void potion_ppc_def(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L282'>P</a>                 282 core/vm-ppc.c  void potion_ppc_bind(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L285'>P</a>                 285 core/vm-ppc.c  void potion_ppc_message(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L288'>P</a>                 288 core/vm-ppc.c  void potion_ppc_jmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PN_OP *start, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/130.html#L293'>P</a>                 293 core/vm-ppc.c  void potion_ppc_test_asm(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, int test) {</span>
<span class='curline'><a href='../S/130.html#L296'>P</a>                 296 core/vm-ppc.c  void potion_ppc_test(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L297'>P</a>                 297 core/vm-ppc.c    potion_ppc_test_asm(P, f, asmp, pos, 1);</span>
<span class='curline'><a href='../S/130.html#L300'>P</a>                 300 core/vm-ppc.c  void potion_ppc_not(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L301'>P</a>                 301 core/vm-ppc.c    potion_ppc_test_asm(P, f, asmp, pos, 0);</span>
<span class='curline'><a href='../S/130.html#L304'>P</a>                 304 core/vm-ppc.c  void potion_ppc_cmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L307'>P</a>                 307 core/vm-ppc.c  void potion_ppc_testjmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PN_OP *start, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/130.html#L313'>P</a>                 313 core/vm-ppc.c  void potion_ppc_notjmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PN_OP *start, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/130.html#L319'>P</a>                 319 core/vm-ppc.c  void potion_ppc_named(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L322'>P</a>                 322 core/vm-ppc.c  void potion_ppc_call(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L325'>P</a>                 325 core/vm-ppc.c  void potion_ppc_callset(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L328'>P</a>                 328 core/vm-ppc.c  void potion_ppc_return(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/130.html#L336'>P</a>                 336 core/vm-ppc.c  void potion_ppc_method(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_OP **pos, long lregs, long start, long regs) {</span>
<span class='curline'><a href='../S/130.html#L339'>P</a>                 339 core/vm-ppc.c  void potion_ppc_class(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/130.html#L342'>P</a>                 342 core/vm-ppc.c  void potion_ppc_finish(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/130.html#L345'>P</a>                 345 core/vm-ppc.c  void potion_ppc_mcache(Potion *P, vPN(Vtable) vt, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/130.html#L348'>P</a>                 348 core/vm-ppc.c  void potion_ppc_ivars(Potion *P, PN ivars, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/131.html#L75'>P</a>                  75 core/vm-x86.c  #define X86_ARGO(regn, argn) potion_x86_c_arg(P, asmp, 1, regn, argn)</span>
<span class='curline'><a href='../S/131.html#L76'>P</a>                  76 core/vm-x86.c  #define X86_ARGI(regn, argn) potion_x86_c_arg(P, asmp, 0, regn, argn)</span>
<span class='curline'><a href='../S/131.html#L96'>P</a>                  96 core/vm-x86.c    Potion *P;</span>
<span class='curline'><a href='../S/131.html#L119'>P</a>                 119 core/vm-x86.c    P = (Potion *)sp[2];</span>
<span class='curline'><a href='../S/131.html#L120'>P</a>                 120 core/vm-x86.c    printf("Potion: %p (%p)\n", P, &amp;P);</span>
<span class='curline'><a href='../S/131.html#L125'>P</a>                 125 core/vm-x86.c    if (rbp &gt; sp - 2 &amp;&amp; sp[2] == (PN)P) {</span>
<span class='curline'><a href='../S/131.html#L136'>P</a>                 136 core/vm-x86.c  static void potion_x86_c_arg(Potion *P, PNAsm * volatile *asmp, int out, int regn, int argn) {</span>
<span class='curline'><a href='../S/131.html#L195'>P</a>                 195 core/vm-x86.c  void potion_x86_setup(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/131.html#L200'>P</a>                 200 core/vm-x86.c  void potion_x86_stack(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long need) {</span>
<span class='curline'><a href='../S/131.html#L213'>P</a>                 213 core/vm-x86.c  void potion_x86_registers(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long start) {</span>
<span class='curline'><a href='../S/131.html#L229'>P</a>                 229 core/vm-x86.c  void potion_x86_local(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long reg, long arg) {</span>
<span class='curline'><a href='../S/131.html#L233'>P</a>                 233 core/vm-x86.c  void potion_x86_upvals(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, long lregs, long start, int upc) {</span>
<span class='curline'><a href='../S/131.html#L243'>P</a>                 243 core/vm-x86.c  void potion_x86_jmpedit(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, unsigned char *asmj, int dist) {</span>
<span class='curline'><a href='../S/131.html#L247'>P</a>                 247 core/vm-x86.c  void potion_x86_move(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L253'>P</a>                 253 core/vm-x86.c  void potion_x86_loadpn(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L258'>P</a>                 258 core/vm-x86.c  PN potion_f_values(Potion *P, PN cl) {</span>
<span class='curline'><a href='../S/131.html#L262'>P</a>                 262 core/vm-x86.c  void potion_x86_loadk(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L273'>P</a>                 273 core/vm-x86.c  void potion_x86_self(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L281'>P</a>                 281 core/vm-x86.c  void potion_x86_getlocal(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long regs) {</span>
<span class='curline'><a href='../S/131.html#L297'>P</a>                 297 core/vm-x86.c  void potion_x86_setlocal(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long regs) {</span>
<span class='curline'><a href='../S/131.html#L314'>P</a>                 314 core/vm-x86.c  void potion_x86_getupval(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long lregs) {</span>
<span class='curline'><a href='../S/131.html#L322'>P</a>                 322 core/vm-x86.c  void potion_x86_setupval(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long lregs) {</span>
<span class='curline'><a href='../S/131.html#L329'>P</a>                 329 core/vm-x86.c  void potion_x86_global(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L340'>P</a>                 340 core/vm-x86.c  void potion_x86_newtuple(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L348'>P</a>                 348 core/vm-x86.c  void potion_x86_settuple(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L358'>P</a>                 358 core/vm-x86.c  void potion_x86_settable(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L369'>P</a>                 369 core/vm-x86.c  void potion_x86_newlick(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L392'>P</a>                 392 core/vm-x86.c  void potion_x86_getpath(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L402'>P</a>                 402 core/vm-x86.c  void potion_x86_setpath(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L412'>P</a>                 412 core/vm-x86.c  void potion_x86_add(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L419'>P</a>                 419 core/vm-x86.c  void potion_x86_sub(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L427'>P</a>                 427 core/vm-x86.c  void potion_x86_mult(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L437'>P</a>                 437 core/vm-x86.c  void potion_x86_div(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L450'>P</a>                 450 core/vm-x86.c  void potion_x86_rem(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L463'>P</a>                 463 core/vm-x86.c  void potion_x86_pow(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L473'>P</a>                 473 core/vm-x86.c  void potion_x86_neq(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L478'>P</a>                 478 core/vm-x86.c  void potion_x86_eq(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L483'>P</a>                 483 core/vm-x86.c  void potion_x86_lt(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L488'>P</a>                 488 core/vm-x86.c  void potion_x86_lte(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L493'>P</a>                 493 core/vm-x86.c  void potion_x86_gt(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L498'>P</a>                 498 core/vm-x86.c  void potion_x86_gte(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L503'>P</a>                 503 core/vm-x86.c  void potion_x86_bitn(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L511'>P</a>                 511 core/vm-x86.c  void potion_x86_bitl(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L523'>P</a>                 523 core/vm-x86.c  void potion_x86_bitr(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L535'>P</a>                 535 core/vm-x86.c  void potion_x86_def(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L546'>P</a>                 546 core/vm-x86.c  void potion_x86_bind(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L556'>P</a>                 556 core/vm-x86.c  void potion_x86_message(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L566'>P</a>                 566 core/vm-x86.c  void potion_x86_jmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/131.html#L571'>P</a>                 571 core/vm-x86.c  void potion_x86_test_asm(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, int test) {</span>
<span class='curline'><a href='../S/131.html#L583'>P</a>                 583 core/vm-x86.c  void potion_x86_test(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L584'>P</a>                 584 core/vm-x86.c    potion_x86_test_asm(P, f, asmp, pos, 0);</span>
<span class='curline'><a href='../S/131.html#L587'>P</a>                 587 core/vm-x86.c  void potion_x86_not(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L588'>P</a>                 588 core/vm-x86.c    potion_x86_test_asm(P, f, asmp, pos, 1);</span>
<span class='curline'><a href='../S/131.html#L591'>P</a>                 591 core/vm-x86.c  void potion_x86_cmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L592'>P</a>                 592 core/vm-x86.c    potion_x86_test_asm(P, f, asmp, pos, 0);</span>
<span class='curline'><a href='../S/131.html#L595'>P</a>                 595 core/vm-x86.c  void potion_x86_testjmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/131.html#L605'>P</a>                 605 core/vm-x86.c  void potion_x86_notjmp(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, PNJumps *jmps, size_t *offs, int *jmpc) {</span>
<span class='curline'><a href='../S/131.html#L615'>P</a>                 615 core/vm-x86.c  void potion_x86_named(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L634'>P</a>                 634 core/vm-x86.c  void potion_x86_call(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L656'>P</a>                 656 core/vm-x86.c      ASM((char *)&amp;((struct PNVtable *)P-&gt;lobby)-&gt;ctor - (char *)P-&gt;lobby); // mov N(%rax) %rax</span>
<span class='curline'><a href='../S/131.html#L684'>P</a>                 684 core/vm-x86.c  void potion_x86_callset(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L693'>P</a>                 693 core/vm-x86.c  void potion_x86_return(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos) {</span>
<span class='curline'><a href='../S/131.html#L698'>P</a>                 698 core/vm-x86.c  PN potion_f_protos(Potion *P, PN cl, PN i) {</span>
<span class='curline'><a href='../S/131.html#L701'>P</a>                 701 core/vm-x86.c    vPN(Closure) c = (struct PNClosure *)potion_closure_new(P, NULL,</span>
<span class='curline'><a href='../S/131.html#L708'>P</a>                 708 core/vm-x86.c  void potion_x86_method(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE *pos, long lregs, long start, long regs) {</span>
<span class='curline'><a href='../S/131.html#L718'>P</a>                 718 core/vm-x86.c    X86_MOVQ(start - 3, P);</span>
<span class='curline'><a href='../S/131.html#L740'>P</a>                 740 core/vm-x86.c  void potion_x86_class(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp, PN_SIZE pos, long start) {</span>
<span class='curline'><a href='../S/131.html#L750'>P</a>                 750 core/vm-x86.c  void potion_x86_finish(Potion *P, struct PNProto * volatile f, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/131.html#L753'>P</a>                 753 core/vm-x86.c  void potion_x86_mcache(Potion *P, vPN(Vtable) vt, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/131.html#L779'>P</a>                 779 core/vm-x86.c  void potion_x86_ivars(Potion *P, PN ivars, PNAsm * volatile *asmp) {</span>
<span class='curline'><a href='../S/152.html#L32'>P</a>                  32 core/vm.c        if (P-&gt;flags &amp; DEBUG_TRACE) {			\</span>
<span class='curline'><a href='../S/152.html#L55'>P</a>                  55 core/vm.c      void potion_vm_init(Potion *P) {</span>
<span class='curline'><a href='../S/152.html#L58'>P</a>                  58 core/vm.c        P-&gt;target = potion_target_x86;</span>
<span class='curline'><a href='../S/152.html#L60'>P</a>                  60 core/vm.c        P-&gt;target = potion_target_ppc;</span>
<span class='curline'><a href='../S/152.html#L62'>P</a>                  62 core/vm.c        P-&gt;target = potion_target_arm;</span>
<span class='curline'><a href='../S/152.html#L67'>P</a>                  67 core/vm.c      PN potion_vm_proto(Potion *P, PN cl, PN self, ...) {</span>
<span class='curline'><a href='../S/152.html#L80'>P</a>                  80 core/vm.c        return potion_vm(P, (PN)f, self, ary,</span>
<span class='curline'><a href='../S/152.html#L84'>P</a>                  84 core/vm.c      PN potion_vm_class(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/152.html#L87'>P</a>                  87 core/vm.c          PN ivars = potion_tuple_with_size(P, PN_TUPLE_LEN(proto-&gt;paths));</span>
<span class='curline'><a href='../S/152.html#L91'>P</a>                  91 core/vm.c          return potion_class(P, cl, self, ivars);</span>
<span class='curline'><a href='../S/152.html#L94'>P</a>                  94 core/vm.c        return potion_class(P, PN_NIL, self, cl);</span>
<span class='curline'><a href='../S/152.html#L102'>P</a>                 102 core/vm.c      PN_F potion_jit_proto(Potion *P, PN proto) {</span>
<span class='curline'><a href='../S/152.html#L108'>P</a>                 108 core/vm.c        PNAsm * volatile asmb = potion_asm_new(P);</span>
<span class='curline'><a href='../S/152.html#L110'>P</a>                 110 core/vm.c        PNTarget *target = &amp;P-&gt;target;</span>
<span class='curline'><a href='../S/152.html#L111'>P</a>                 111 core/vm.c        target-&gt;setup(P, f, &amp;asmb);</span>
<span class='curline'><a href='../S/152.html#L124'>P</a>                 124 core/vm.c              potion_jit_proto(P, proto2);</span>
<span class='curline'><a href='../S/152.html#L135'>P</a>                 135 core/vm.c        target-&gt;stack(P, f, &amp;asmb, rsp);</span>
<span class='curline'><a href='../S/152.html#L136'>P</a>                 136 core/vm.c        target-&gt;registers(P, f, &amp;asmb, need);</span>
<span class='curline'><a href='../S/152.html#L144'>P</a>                 144 core/vm.c              target-&gt;local(P, f, &amp;asmb, regs + num, argx);</span>
<span class='curline'><a href='../S/152.html#L152'>P</a>                 152 core/vm.c          target-&gt;upvals(P, f, &amp;asmb, lregs, need, upc);</span>
<span class='curline'><a href='../S/152.html#L159'>P</a>                 159 core/vm.c              target-&gt;jmpedit(P, f, &amp;asmb, asmj, asmb-&gt;len - (jmps[jmpi].from + 4));</span>
<span class='curline'><a href='../S/152.html#L167'>P</a>                 167 core/vm.c            CASE_OP(MOVE, (P, f, &amp;asmb, pos))		// copy value between registers</span>
<span class='curline'><a href='../S/152.html#L168'>P</a>                 168 core/vm.c            CASE_OP(LOADPN, (P, f, &amp;asmb, pos))	// load a value into a register</span>
<span class='curline'><a href='../S/152.html#L169'>P</a>                 169 core/vm.c            CASE_OP(LOADK, (P, f, &amp;asmb, pos, need))  // load a constant into a register</span>
<span class='curline'><a href='../S/152.html#L170'>P</a>                 170 core/vm.c            CASE_OP(SELF, (P, f, &amp;asmb, pos, need))   // prepare an object method for calling</span>
<span class='curline'><a href='../S/152.html#L172'>P</a>                 172 core/vm.c            CASE_OP(GETLOCAL, (P, f, &amp;asmb, pos, regs))// read a local into a register</span>
<span class='curline'><a href='../S/152.html#L173'>P</a>                 173 core/vm.c            CASE_OP(SETLOCAL, (P, f, &amp;asmb, pos, regs))// write a register value into a local</span>
<span class='curline'><a href='../S/152.html#L174'>P</a>                 174 core/vm.c            CASE_OP(GETUPVAL, (P, f, &amp;asmb, pos, lregs))// read an upvalue (upper scope)</span>
<span class='curline'><a href='../S/152.html#L175'>P</a>                 175 core/vm.c            CASE_OP(SETUPVAL, (P, f, &amp;asmb, pos, lregs))// write to an upvalue</span>
<span class='curline'><a href='../S/152.html#L176'>P</a>                 176 core/vm.c            CASE_OP(GLOBAL, (P, f, &amp;asmb, pos, need))	// returns a global (for get or set)</span>
<span class='curline'><a href='../S/152.html#L177'>P</a>                 177 core/vm.c            CASE_OP(NEWTUPLE, (P, f, &amp;asmb, pos, need))// create tuple</span>
<span class='curline'><a href='../S/152.html#L178'>P</a>                 178 core/vm.c            CASE_OP(SETTUPLE, (P, f, &amp;asmb, pos, need))// write register into tuple key</span>
<span class='curline'><a href='../S/152.html#L179'>P</a>                 179 core/vm.c            CASE_OP(SETTABLE, (P, f, &amp;asmb, pos, need))// write register into a table entry</span>
<span class='curline'><a href='../S/152.html#L180'>P</a>                 180 core/vm.c            CASE_OP(NEWLICK, (P, f, &amp;asmb, pos, need))// create lick. R(A) := {} (size = B,C)</span>
<span class='curline'><a href='../S/152.html#L181'>P</a>                 181 core/vm.c            CASE_OP(GETPATH, (P, f, &amp;asmb, pos, need))// read obj field into register</span>
<span class='curline'><a href='../S/152.html#L182'>P</a>                 182 core/vm.c            CASE_OP(SETPATH, (P, f, &amp;asmb, pos, need))// write into obj field</span>
<span class='curline'><a href='../S/152.html#L183'>P</a>                 183 core/vm.c            CASE_OP(ADD, (P, f, &amp;asmb, pos, need))	// a = b + c</span>
<span class='curline'><a href='../S/152.html#L184'>P</a>                 184 core/vm.c            CASE_OP(SUB, (P, f, &amp;asmb, pos, need))	// a = b - c</span>
<span class='curline'><a href='../S/152.html#L185'>P</a>                 185 core/vm.c            CASE_OP(MULT, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L186'>P</a>                 186 core/vm.c            CASE_OP(DIV, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L187'>P</a>                 187 core/vm.c            CASE_OP(REM, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L188'>P</a>                 188 core/vm.c            CASE_OP(POW, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L189'>P</a>                 189 core/vm.c            CASE_OP(NEQ, (P, f, &amp;asmb, pos))</span>
<span class='curline'><a href='../S/152.html#L190'>P</a>                 190 core/vm.c            CASE_OP(EQ, (P, f, &amp;asmb, pos))		// if ((RK(B) == RK(C)) ~= A) then PC++</span>
<span class='curline'><a href='../S/152.html#L191'>P</a>                 191 core/vm.c            CASE_OP(LT, (P, f, &amp;asmb, pos))		// if ((RK(B) &lt; RK(C)) ~= A) then PC++</span>
<span class='curline'><a href='../S/152.html#L192'>P</a>                 192 core/vm.c            CASE_OP(LTE, (P, f, &amp;asmb, pos))		// if ((RK(B) &lt;= RK(C)) ~= A) then PC++</span>
<span class='curline'><a href='../S/152.html#L193'>P</a>                 193 core/vm.c            CASE_OP(GT, (P, f, &amp;asmb, pos))</span>
<span class='curline'><a href='../S/152.html#L194'>P</a>                 194 core/vm.c            CASE_OP(GTE, (P, f, &amp;asmb, pos))</span>
<span class='curline'><a href='../S/152.html#L195'>P</a>                 195 core/vm.c            CASE_OP(BITN, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L196'>P</a>                 196 core/vm.c            CASE_OP(BITL, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L197'>P</a>                 197 core/vm.c            CASE_OP(BITR, (P, f, &amp;asmb, pos, need))</span>
<span class='curline'><a href='../S/152.html#L198'>P</a>                 198 core/vm.c            CASE_OP(DEF, (P, f, &amp;asmb, pos, need))	// define a method for an object</span>
<span class='curline'><a href='../S/152.html#L199'>P</a>                 199 core/vm.c            CASE_OP(BIND, (P, f, &amp;asmb, pos, need))   // extend obj by set a binding</span>
<span class='curline'><a href='../S/152.html#L201'>P</a>                 201 core/vm.c            CASE_OP(MESSAGE, (P, f, &amp;asmb, pos, need))// call a method of an object</span>
<span class='curline'><a href='../S/152.html#L202'>P</a>                 202 core/vm.c            CASE_OP(JMP, (P, f, &amp;asmb, pos, jmps, offs, &amp;jmpc)) // PC += sBx</span>
<span class='curline'><a href='../S/152.html#L203'>P</a>                 203 core/vm.c            CASE_OP(TEST, (P, f, &amp;asmb, pos))		// if not (R(A) &lt;=&gt; C) then PC++</span>
<span class='curline'><a href='../S/152.html#L204'>P</a>                 204 core/vm.c            CASE_OP(NOT, (P, f, &amp;asmb, pos))		// a = not b</span>
<span class='curline'><a href='../S/152.html#L205'>P</a>                 205 core/vm.c            CASE_OP(CMP, (P, f, &amp;asmb, pos))</span>
<span class='curline'><a href='../S/152.html#L206'>P</a>                 206 core/vm.c            CASE_OP(TESTJMP, (P, f, &amp;asmb, pos, jmps, offs, &amp;jmpc))</span>
<span class='curline'><a href='../S/152.html#L207'>P</a>                 207 core/vm.c            CASE_OP(NOTJMP, (P, f, &amp;asmb, pos, jmps, offs, &amp;jmpc))</span>
<span class='curline'><a href='../S/152.html#L208'>P</a>                 208 core/vm.c            CASE_OP(NAMED, (P, f, &amp;asmb, pos, need))	// assign named args before a CALL</span>
<span class='curline'><a href='../S/152.html#L209'>P</a>                 209 core/vm.c            CASE_OP(CALL, (P, f, &amp;asmb, pos, need))	// call a function. R(A),...:= R(A)(R(A+1),...,R(A+B-1))</span>
<span class='curline'><a href='../S/152.html#L210'>P</a>                 210 core/vm.c            CASE_OP(CALLSET, (P, f, &amp;asmb, pos, need))//? set return register to write to</span>
<span class='curline'><a href='../S/152.html#L211'>P</a>                 211 core/vm.c            CASE_OP(RETURN, (P, f, &amp;asmb, pos))	// return R(A), ... ,R(A+B-2)</span>
<span class='curline'><a href='../S/152.html#L212'>P</a>                 212 core/vm.c            CASE_OP(PROTO, (P, f, &amp;asmb, &amp;pos, lregs, need, regs))// define function prototype</span>
<span class='curline'><a href='../S/152.html#L213'>P</a>                 213 core/vm.c            CASE_OP(CLASS, (P, f, &amp;asmb, pos, need)) // find class for register value</span>
<span class='curline'><a href='../S/152.html#L217'>P</a>                 217 core/vm.c        target-&gt;finish(P, f, &amp;asmb);</span>
<span class='curline'><a href='../S/152.html#L221'>P</a>                 221 core/vm.c        if (P-&gt;flags &amp; DEBUG_JIT) {</span>
<span class='curline'><a href='../S/152.html#L234'>P</a>                 234 core/vm.c          reg[op.a] = potion_obj_##name(P, reg[op.a], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L236'>P</a>                 236 core/vm.c      PN potion_vm(Potion *P, PN proto, PN self, PN vargs, PN_SIZE upc, PN *upargs) {</span>
<span class='curline'><a href='../S/152.html#L288'>P</a>                 288 core/vm.c          if (P-&gt;flags &amp; DEBUG_TRACE) {</span>
<span class='curline'><a href='../S/152.html#L328'>P</a>                 328 core/vm.c              potion_define_global(P, reg[op.a], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L338'>P</a>                 338 core/vm.c              potion_table_set(P, reg[op.a], reg[op.a + 1], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L343'>P</a>                 343 core/vm.c              reg[op.a] = potion_lick(P, reg[op.a], attr, inner);</span>
<span class='curline'><a href='../S/152.html#L347'>P</a>                 347 core/vm.c              reg[op.a] = potion_obj_get(P, PN_NIL, reg[op.a], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L350'>P</a>                 350 core/vm.c              potion_obj_set(P, PN_NIL, reg[op.a], reg[op.a + 1], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L396'>P</a>                 396 core/vm.c              reg[op.a] = PN_IS_NUM(reg[op.b]) ? PN_NUM(~PN_INT(reg[op.b])) : potion_obj_bitn(P, reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L405'>P</a>                 405 core/vm.c              reg[op.a] = potion_def_method(P, PN_NIL, reg[op.a], reg[op.a + 1], reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L408'>P</a>                 408 core/vm.c              reg[op.a] = potion_bind(P, reg[op.b], reg[op.a]);</span>
<span class='curline'><a href='../S/152.html#L411'>P</a>                 411 core/vm.c              reg[op.a] = potion_message(P, reg[op.b], reg[op.a]);</span>
<span class='curline'><a href='../S/152.html#L426'>P</a>                 426 core/vm.c              int x = potion_sig_find(P, reg[op.a], reg[op.b - 1]);</span>
<span class='curline'><a href='../S/152.html#L433'>P</a>                 433 core/vm.c                  reg[op.a + 1] = potion_object_new(P, PN_NIL, reg[op.a]);</span>
<span class='curline'><a href='../S/152.html#L438'>P</a>                 438 core/vm.c                    reg[op.a] = potion_call(P, reg[op.a], op.b - op.a, reg + op.a + 1);</span>
<span class='curline'><a href='../S/152.html#L441'>P</a>                 441 core/vm.c                    PN argt = potion_tuple_with_size(P, (op.b - op.a) - 1);</span>
<span class='curline'><a href='../S/152.html#L444'>P</a>                 444 core/vm.c                    reg[op.a] = potion_vm(P, PN_CLOSURE(reg[op.a])-&gt;data[0], reg[op.a + 1], argt,</span>
<span class='curline'><a href='../S/152.html#L464'>P</a>                 464 core/vm.c                  reg[op.a] = potion_obj_get_call(P, reg[op.a]);</span>
<span class='curline'><a href='../S/152.html#L467'>P</a>                 467 core/vm.c                    reg[op.a] = potion_call(P, reg[op.a], op.b - op.a, &amp;reg[op.a + 1]);</span>
<span class='curline'><a href='../S/152.html#L474'>P</a>                 474 core/vm.c              reg[op.a] = potion_obj_get_callset(P, reg[op.b]);</span>
<span class='curline'><a href='../S/152.html#L500'>P</a>                 500 core/vm.c              cl = (struct PNClosure *)potion_closure_new(P, (PN_F)potion_vm_proto,</span>
<span class='curline'><a href='../S/152.html#L510'>P</a>                 510 core/vm.c                  cl-&gt;data[i+1] = locals[op.b] = (PN)potion_ref(P, locals[op.b]);</span>
<span class='curline'><a href='../S/152.html#L519'>P</a>                 519 core/vm.c              reg[op.a] = potion_vm_class(P, reg[op.b], reg[op.a]);</span>
<span class='curline'><a href='../S/152.html#L523'>P</a>                 523 core/vm.c          if (P-&gt;flags &amp; DEBUG_TRACE) {</span>
<span class='curline'><a href='../S/160.html#L39'>P</a>                  39 front/p2.c     static void p2_cmd_usage(Potion *P) {</span>
<span class='curline'><a href='../S/160.html#L78'>P</a>                  78 front/p2.c     static void p2_cmd_stats(Potion *P) {</span>
<span class='curline'><a href='../S/160.html#L83'>P</a>                  83 front/p2.c           PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/160.html#L84'>P</a>                  84 front/p2.c           PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/160.html#L87'>P</a>                  87 front/p2.c     static void p2_cmd_version(Potion *P) {</span>
<span class='curline'><a href='../S/160.html#L92'>P</a>                  92 front/p2.c         if (P-&gt;flags &amp; DEBUG_VERBOSE) \</span>
<span class='curline'><a href='../S/160.html#L95'>P</a>                  95 front/p2.c         if (P-&gt;flags &amp; DEBUG_VERBOSE) \</span>
<span class='curline'><a href='../S/160.html#L96'>P</a>                  96 front/p2.c           potion_p(P, p)</span>
<span class='curline'><a href='../S/160.html#L98'>P</a>                  98 front/p2.c         if (P-&gt;flags &amp; (DEBUG_INSPECT|DEBUG_VERBOSE)) \</span>
<span class='curline'><a href='../S/160.html#L99'>P</a>                  99 front/p2.c           potion_p(P, p)</span>
<span class='curline'><a href='../S/160.html#L101'>P</a>                 101 front/p2.c     static PN p2_cmd_exec(Potion *P, PN buf, char *filename, exec_mode_t exec) {</span>
<span class='curline'><a href='../S/160.html#L102'>P</a>                 102 front/p2.c       PN code = p2_source_load(P, PN_NIL, buf);</span>
<span class='curline'><a href='../S/160.html#L106'>P</a>                 106 front/p2.c         code = p2_parse(P, buf, filename);</span>
<span class='curline'><a href='../S/160.html#L108'>P</a>                 108 front/p2.c           potion_p(P, code);</span>
<span class='curline'><a href='../S/160.html#L113'>P</a>                 113 front/p2.c         code = potion_send(code, PN_compile, potion_str(P, filename), PN_NIL);</span>
<span class='curline'><a href='../S/160.html#L118'>P</a>                 118 front/p2.c         code = potion_vm(P, code, P-&gt;lobby, PN_NIL, 0, NULL);</span>
<span class='curline'><a href='../S/160.html#L120'>P</a>                 120 front/p2.c     	  PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/160.html#L121'>P</a>                 121 front/p2.c     	  PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/160.html#L126'>P</a>                 126 front/p2.c         PN cl = potion_closure_new(P, (PN_F)potion_jit_proto(P, code), PN_NIL, 1);</span>
<span class='curline'><a href='../S/160.html#L128'>P</a>                 128 front/p2.c         val = PN_PROTO(code)-&gt;jit(P, cl, P-&gt;lobby);</span>
<span class='curline'><a href='../S/160.html#L130'>P</a>                 130 front/p2.c     	  PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/160.html#L131'>P</a>                 131 front/p2.c     	  PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/160.html#L142'>P</a>                 142 front/p2.c     static void p2_cmd_compile(Potion *P, char *filename, exec_mode_t exec) {</span>
<span class='curline'><a href='../S/160.html#L157'>P</a>                 157 front/p2.c       buf = potion_bytes(P, stats.st_size);</span>
<span class='curline'><a href='../S/160.html#L163'>P</a>                 163 front/p2.c         code = p2_cmd_exec(P, buf, filename, exec);</span>
<span class='curline'><a href='../S/160.html#L186'>P</a>                 186 front/p2.c     	code = potion_source_dumpbc(P, PN_NIL, code);</span>
<span class='curline'><a href='../S/160.html#L213'>P</a>                 213 front/p2.c         if (P-&gt;flags &amp; DEBUG_GC) { // GC sanity check</span>
<span class='curline'><a href='../S/160.html#L215'>P</a>                 215 front/p2.c           void *scanptr = (void *)((char *)P-&gt;mem-&gt;old_lo + (sizeof(PN) * 2));</span>
<span class='curline'><a href='../S/160.html#L216'>P</a>                 216 front/p2.c           while ((PN)scanptr &lt; (PN)P-&gt;mem-&gt;old_cur) {</span>
<span class='curline'><a href='../S/160.html#L219'>P</a>                 219 front/p2.c     		potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/160.html#L229'>P</a>                 229 front/p2.c     	scanptr = (void *)((char *)scanptr + potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/160.html#L230'>P</a>                 230 front/p2.c     	if ((PN)scanptr &gt; (PN)P-&gt;mem-&gt;old_cur) {</span>
<span class='curline'><a href='../S/160.html#L250'>P</a>                 250 front/p2.c       Potion *P = potion_create(sp);</span>
<span class='curline'><a href='../S/160.html#L259'>P</a>                 259 front/p2.c     	potion_loader_add(P, potion_str(P, extra_path));</span>
<span class='curline'><a href='../S/160.html#L265'>P</a>                 265 front/p2.c     	potion_loader_add(P, potion_str(P, argv[i+1]));</span>
<span class='curline'><a href='../S/160.html#L271'>P</a>                 271 front/p2.c           P-&gt;flags |= DEBUG_INSPECT;</span>
<span class='curline'><a href='../S/160.html#L275'>P</a>                 275 front/p2.c           P-&gt;flags |= DEBUG_VERBOSE;</span>
<span class='curline'><a href='../S/160.html#L291'>P</a>                 291 front/p2.c           if (strchr(&amp;argv[i][2], 'i')) P-&gt;flags |= DEBUG_INSPECT;</span>
<span class='curline'><a href='../S/160.html#L292'>P</a>                 292 front/p2.c           if (strchr(&amp;argv[i][2], 'v')) P-&gt;flags |= DEBUG_VERBOSE;</span>
<span class='curline'><a href='../S/160.html#L293'>P</a>                 293 front/p2.c           if (strchr(&amp;argv[i][2], 't')) { P-&gt;flags |= DEBUG_TRACE; exec = EXEC_VM; }</span>
<span class='curline'><a href='../S/160.html#L294'>P</a>                 294 front/p2.c           if (strchr(&amp;argv[i][2], 'p')) P-&gt;flags |= DEBUG_PARSE;</span>
<span class='curline'><a href='../S/160.html#L295'>P</a>                 295 front/p2.c           if (strchr(&amp;argv[i][2], 'P')) P-&gt;flags |= (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/160.html#L296'>P</a>                 296 front/p2.c           if (strchr(&amp;argv[i][2], 'J')) P-&gt;flags |= DEBUG_JIT;</span>
<span class='curline'><a href='../S/160.html#L297'>P</a>                 297 front/p2.c           if (strchr(&amp;argv[i][2], 'G')) P-&gt;flags |= DEBUG_GC;</span>
<span class='curline'><a href='../S/160.html#L302'>P</a>                 302 front/p2.c           p2_cmd_version(P);</span>
<span class='curline'><a href='../S/160.html#L306'>P</a>                 306 front/p2.c           p2_cmd_usage(P);</span>
<span class='curline'><a href='../S/160.html#L310'>P</a>                 310 front/p2.c           p2_cmd_stats(P); // TODO: afterwards</span>
<span class='curline'><a href='../S/160.html#L341'>P</a>                 341 front/p2.c     	potion_define_global(P, potion_str(P, "$0"), potion_str(P, "-E"));</span>
<span class='curline'><a href='../S/160.html#L342'>P</a>                 342 front/p2.c     	buf = potion_str(P, arg);</span>
<span class='curline'><a href='../S/160.html#L343'>P</a>                 343 front/p2.c     	P-&gt;flags = (P-&gt;flags &amp; 0xff00) + MODE_P2;</span>
<span class='curline'><a href='../S/160.html#L347'>P</a>                 347 front/p2.c     	potion_define_global(P, potion_str(P, "$0"), potion_str(P, "-e"));</span>
<span class='curline'><a href='../S/160.html#L348'>P</a>                 348 front/p2.c     	buf = potion_str(P, arg);</span>
<span class='curline'><a href='../S/160.html#L359'>P</a>                 359 front/p2.c       potion_define_global(P, potion_str(P, "$P2::mode"), PN_NUM((P-&gt;flags &amp; 0xff))); // first flags word: p5,p2,p6</span>
<span class='curline'><a href='../S/160.html#L360'>P</a>                 360 front/p2.c       potion_define_global(P, potion_str(P, "$P2::execmode"), PN_NUM(exec)); // exec_jit, exec_vm</span>
<span class='curline'><a href='../S/160.html#L361'>P</a>                 361 front/p2.c       potion_define_global(P, potion_str(P, "$P2::verbose"),  PN_NUM((P-&gt;flags &amp; ~0xff) &gt;&gt; 8)); // second flags word</span>
<span class='curline'><a href='../S/160.html#L362'>P</a>                 362 front/p2.c       potion_define_global(P, potion_str(P, "$P2::interactive"),</span>
<span class='curline'><a href='../S/160.html#L364'>P</a>                 364 front/p2.c       potion_define_global(P, potion_str(P, "$^X"), potion_str(P, argv[0]));</span>
<span class='curline'><a href='../S/160.html#L368'>P</a>                 368 front/p2.c           potion_define_global(P, potion_str(P, "$0"), potion_str(P, "-e"));</span>
<span class='curline'><a href='../S/160.html#L369'>P</a>                 369 front/p2.c           p2_cmd_exec(P, buf, "-e", exec);</span>
<span class='curline'><a href='../S/160.html#L372'>P</a>                 372 front/p2.c           potion_define_global(P, potion_str(P, "$0"), potion_str(P, argv[argc-1]));</span>
<span class='curline'><a href='../S/160.html#L373'>P</a>                 373 front/p2.c           p2_cmd_compile(P, argv[argc-1], exec);</span>
<span class='curline'><a href='../S/160.html#L376'>P</a>                 376 front/p2.c         if (!exec || P-&gt;flags &amp; DEBUG_INSPECT) potion_fatal("no filename given");</span>
<span class='curline'><a href='../S/160.html#L377'>P</a>                 377 front/p2.c         potion_define_global(P, potion_str(P, "$0"), potion_str(P, "-i"));</span>
<span class='curline'><a href='../S/160.html#L379'>P</a>                 379 front/p2.c         p2_eval(P, potion_byte_str(P,</span>
<span class='curline'><a href='../S/160.html#L392'>P</a>                 392 front/p2.c       if (P != NULL)</span>
<span class='curline'><a href='../S/160.html#L393'>P</a>                 393 front/p2.c         potion_destroy(P);</span>
<span class='curline'><a href='../S/161.html#L24'>P</a>                  24 front/potion.c static void potion_cmd_usage(Potion *P) {</span>
<span class='curline'><a href='../S/161.html#L48'>P</a>                  48 front/potion.c static void potion_cmd_stats(Potion *P) {</span>
<span class='curline'><a href='../S/161.html#L53'>P</a>                  53 front/potion.c       PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/161.html#L54'>P</a>                  54 front/potion.c       PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/161.html#L57'>P</a>                  57 front/potion.c static void potion_cmd_version(Potion *P) {</span>
<span class='curline'><a href='../S/161.html#L62'>P</a>                  62 front/potion.c     if (P-&gt;flags &amp; DEBUG_VERBOSE) \</span>
<span class='curline'><a href='../S/161.html#L65'>P</a>                  65 front/potion.c     if (P-&gt;flags &amp; DEBUG_VERBOSE) \</span>
<span class='curline'><a href='../S/161.html#L66'>P</a>                  66 front/potion.c       potion_p(P, c)</span>
<span class='curline'><a href='../S/161.html#L68'>P</a>                  68 front/potion.c     if (P-&gt;flags &amp; (DEBUG_INSPECT|DEBUG_VERBOSE)) \</span>
<span class='curline'><a href='../S/161.html#L69'>P</a>                  69 front/potion.c       potion_p(P, c)</span>
<span class='curline'><a href='../S/161.html#L71'>P</a>                  71 front/potion.c static PN potion_cmd_exec(Potion *P, PN buf, char *filename, exec_mode_t exec) {</span>
<span class='curline'><a href='../S/161.html#L72'>P</a>                  72 front/potion.c   PN code = potion_source_load(P, PN_NIL, buf);</span>
<span class='curline'><a href='../S/161.html#L76'>P</a>                  76 front/potion.c     code = potion_parse(P, buf, filename);</span>
<span class='curline'><a href='../S/161.html#L78'>P</a>                  78 front/potion.c       potion_p(P, code);</span>
<span class='curline'><a href='../S/161.html#L83'>P</a>                  83 front/potion.c     code = potion_send(code, PN_compile, potion_str(P, filename), PN_NIL);</span>
<span class='curline'><a href='../S/161.html#L88'>P</a>                  88 front/potion.c     code = potion_vm(P, code, P-&gt;lobby, PN_NIL, 0, NULL);</span>
<span class='curline'><a href='../S/161.html#L90'>P</a>                  90 front/potion.c 	  PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/161.html#L91'>P</a>                  91 front/potion.c 	  PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/161.html#L96'>P</a>                  96 front/potion.c     PN cl = potion_closure_new(P, (PN_F)potion_jit_proto(P, code), PN_NIL, 1);</span>
<span class='curline'><a href='../S/161.html#L98'>P</a>                  98 front/potion.c     val = PN_PROTO(code)-&gt;jit(P, cl, P-&gt;lobby);</span>
<span class='curline'><a href='../S/161.html#L100'>P</a>                 100 front/potion.c 	  PN_INT(potion_gc_fixed(P, 0, 0)), PN_INT(potion_gc_actual(P, 0, 0)),</span>
<span class='curline'><a href='../S/161.html#L101'>P</a>                 101 front/potion.c 	  PN_INT(potion_gc_reserved(P, 0, 0)));</span>
<span class='curline'><a href='../S/161.html#L112'>P</a>                 112 front/potion.c static void potion_cmd_compile(Potion *P, char *filename, exec_mode_t exec) {</span>
<span class='curline'><a href='../S/161.html#L127'>P</a>                 127 front/potion.c   buf = potion_bytes(P, stats.st_size);</span>
<span class='curline'><a href='../S/161.html#L133'>P</a>                 133 front/potion.c     code = potion_cmd_exec(P, buf, filename, exec);</span>
<span class='curline'><a href='../S/161.html#L156'>P</a>                 156 front/potion.c 	code = potion_source_dumpbc(P, PN_NIL, code);</span>
<span class='curline'><a href='../S/161.html#L183'>P</a>                 183 front/potion.c     if (P-&gt;flags &amp; DEBUG_GC) { // GC sanity check</span>
<span class='curline'><a href='../S/161.html#L185'>P</a>                 185 front/potion.c       void *scanptr = (void *)((char *)P-&gt;mem-&gt;old_lo + (sizeof(PN) * 2));</span>
<span class='curline'><a href='../S/161.html#L186'>P</a>                 186 front/potion.c       while ((PN)scanptr &lt; (PN)P-&gt;mem-&gt;old_cur) {</span>
<span class='curline'><a href='../S/161.html#L189'>P</a>                 189 front/potion.c 		potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/161.html#L199'>P</a>                 199 front/potion.c 	scanptr = (void *)((char *)scanptr + potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/161.html#L200'>P</a>                 200 front/potion.c 	if ((PN)scanptr &gt; (PN)P-&gt;mem-&gt;old_cur) {</span>
<span class='curline'><a href='../S/161.html#L222'>P</a>                 222 front/potion.c   Potion *P = potion_create(sp);</span>
<span class='curline'><a href='../S/161.html#L229'>P</a>                 229 front/potion.c       P-&gt;flags |= DEBUG_INSPECT;</span>
<span class='curline'><a href='../S/161.html#L235'>P</a>                 235 front/potion.c 	potion_loader_add(P, potion_str(P, extra_path));</span>
<span class='curline'><a href='../S/161.html#L241'>P</a>                 241 front/potion.c 	potion_loader_add(P, potion_str(P, argv[i+1]));</span>
<span class='curline'><a href='../S/161.html#L247'>P</a>                 247 front/potion.c       P-&gt;flags |= DEBUG_VERBOSE;</span>
<span class='curline'><a href='../S/161.html#L251'>P</a>                 251 front/potion.c       potion_cmd_version(P);</span>
<span class='curline'><a href='../S/161.html#L255'>P</a>                 255 front/potion.c       potion_cmd_usage(P);</span>
<span class='curline'><a href='../S/161.html#L259'>P</a>                 259 front/potion.c       potion_cmd_stats(P);</span>
<span class='curline'><a href='../S/161.html#L291'>P</a>                 291 front/potion.c       if (strchr(&amp;argv[i][2], 'i')) P-&gt;flags |= DEBUG_INSPECT;</span>
<span class='curline'><a href='../S/161.html#L292'>P</a>                 292 front/potion.c       if (strchr(&amp;argv[i][2], 'v')) P-&gt;flags |= DEBUG_VERBOSE;</span>
<span class='curline'><a href='../S/161.html#L293'>P</a>                 293 front/potion.c       if (strchr(&amp;argv[i][2], 't')) { P-&gt;flags |= DEBUG_TRACE; exec = EXEC_VM; }</span>
<span class='curline'><a href='../S/161.html#L294'>P</a>                 294 front/potion.c       if (strchr(&amp;argv[i][2], 'p')) P-&gt;flags |= DEBUG_PARSE;</span>
<span class='curline'><a href='../S/161.html#L295'>P</a>                 295 front/potion.c       if (strchr(&amp;argv[i][2], 'P')) P-&gt;flags |= (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/161.html#L296'>P</a>                 296 front/potion.c       if (strchr(&amp;argv[i][2], 'J')) P-&gt;flags |= DEBUG_JIT;</span>
<span class='curline'><a href='../S/161.html#L297'>P</a>                 297 front/potion.c       if (strchr(&amp;argv[i][2], 'G')) P-&gt;flags |= DEBUG_GC;</span>
<span class='curline'><a href='../S/161.html#L312'>P</a>                 312 front/potion.c       buf = potion_str(P, arg);</span>
<span class='curline'><a href='../S/161.html#L324'>P</a>                 324 front/potion.c       potion_cmd_exec(P, buf, "-e", exec);</span>
<span class='curline'><a href='../S/161.html#L326'>P</a>                 326 front/potion.c       potion_cmd_compile(P, argv[argc-1], exec);</span>
<span class='curline'><a href='../S/161.html#L329'>P</a>                 329 front/potion.c     if (!exec || P-&gt;flags &amp; DEBUG_INSPECT) potion_fatal("no filename given");</span>
<span class='curline'><a href='../S/161.html#L330'>P</a>                 330 front/potion.c     potion_eval(P, potion_byte_str(P,</span>
<span class='curline'><a href='../S/161.html#L345'>P</a>                 345 front/potion.c   if (P != NULL)</span>
<span class='curline'><a href='../S/161.html#L346'>P</a>                 346 front/potion.c     potion_destroy(P);</span>
<span class='curline'><a href='../S/112.html#L6'>P</a>                   6 lib/readline/readline.c PN pn_readline(Potion *P, PN cl, PN self, PN start) {</span>
<span class='curline'><a href='../S/112.html#L14'>P</a>                  14 lib/readline/readline.c   r = potion_str(P, line);</span>
<span class='curline'><a href='../S/112.html#L19'>P</a>                  19 lib/readline/readline.c void Potion_Init_readline(Potion *P) {</span>
<span class='curline'><a href='../S/112.html#L20'>P</a>                  20 lib/readline/readline.c   potion_method(P-&gt;lobby, "readline", pn_readline, "start=S");</span>
<span class='curline'><a href='../S/170.html#L17'>P</a>                  17 syn/syntax-p5.c #define YY_XVAR P</span>
<span class='curline'><a href='../S/170.html#L20'>P</a>                  20 syn/syntax-p5.c   YY_XTYPE P = G-&gt;data; \</span>
<span class='curline'><a href='../S/170.html#L21'>P</a>                  21 syn/syntax-p5.c   if (P-&gt;yypos &lt; PN_STR_LEN(P-&gt;input)) { \</span>
<span class='curline'><a href='../S/170.html#L23'>P</a>                  23 syn/syntax-p5.c     if (P-&gt;yypos + max &gt; PN_STR_LEN(P-&gt;input)) \</span>
<span class='curline'><a href='../S/170.html#L24'>P</a>                  24 syn/syntax-p5.c       result = (PN_STR_LEN(P-&gt;input) - P-&gt;yypos); \</span>
<span class='curline'><a href='../S/170.html#L25'>P</a>                  25 syn/syntax-p5.c     PN_MEMCPY_N(buf, PN_STR_PTR(P-&gt;input) + P-&gt;yypos, char, result + 1); \</span>
<span class='curline'><a href='../S/170.html#L26'>P</a>                  26 syn/syntax-p5.c     P-&gt;yypos += max; \</span>
<span class='curline'><a href='../S/170.html#L41'>P</a>                  41 syn/syntax-p5.c # define YY_SET(G, text, count, thunk, P) \</span>
<span class='curline'><a href='../S/170.html#L551'>P</a>                 551 syn/syntax-p5.c   P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source?P-&gt;source:PN_TUP0(), n), t), PN_NIL); ;</span>
<span class='curline'><a href='../S/170.html#L562'>P</a>                 562 syn/syntax-p5.c   P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source?P-&gt;source:PN_TUP0(), n), potion_str(P,"O")), PN_NIL); ;</span>
<span class='curline'><a href='../S/170.html#L572'>P</a>                 572 syn/syntax-p5.c   yy = potion_class_find(P, i); if (!yy) yyerror(G,"Invalid type"); ;</span>
<span class='curline'><a href='../S/170.html#L580'>P</a>                 580 syn/syntax-p5.c   yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L587'>P</a>                 587 syn/syntax-p5.c   P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('.')); ;</span>
<span class='curline'><a href='../S/170.html#L594'>P</a>                 594 syn/syntax-p5.c   P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('|')); ;</span>
<span class='curline'><a href='../S/170.html#L603'>P</a>                 603 syn/syntax-p5.c   P-&gt;source = PN_PUSH(P-&gt;source, t); ;</span>
<span class='curline'><a href='../S/170.html#L614'>P</a>                 614 syn/syntax-p5.c   P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source, n), t), PN_NIL); ;</span>
<span class='curline'><a href='../S/170.html#L630'>P</a>                 630 syn/syntax-p5.c   yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L637'>P</a>                 637 syn/syntax-p5.c   yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L644'>P</a>                 644 syn/syntax-p5.c   yy = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/170.html#L651'>P</a>                 651 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/170.html#L658'>P</a>                 658 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L665'>P</a>                 665 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\"", 1); ;</span>
<span class='curline'><a href='../S/170.html#L672'>P</a>                 672 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L708'>P</a>                 708 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, utfc, nbuf);</span>
<span class='curline'><a href='../S/170.html#L716'>P</a>                 716 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\t", 1); ;</span>
<span class='curline'><a href='../S/170.html#L723'>P</a>                 723 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\r", 1); ;</span>
<span class='curline'><a href='../S/170.html#L730'>P</a>                 730 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\f", 1); ;</span>
<span class='curline'><a href='../S/170.html#L737'>P</a>                 737 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\b", 1); ;</span>
<span class='curline'><a href='../S/170.html#L744'>P</a>                 744 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\n", 1); ;</span>
<span class='curline'><a href='../S/170.html#L751'>P</a>                 751 syn/syntax-p5.c   yy = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/170.html#L758'>P</a>                 758 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "'", 1); ;</span>
<span class='curline'><a href='../S/170.html#L765'>P</a>                 765 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/170.html#L772'>P</a>                 772 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L802'>P</a>                 802 syn/syntax-p5.c   yy = PN_AST2(LICK, potion_strcat(P,"%",PN_STR_PTR(h)), i); ;</span>
<span class='curline'><a href='../S/170.html#L813'>P</a>                 813 syn/syntax-p5.c   yy = PN_AST2(LICK, potion_strcat(P,"@",PN_STR_PTR(l)), i); ;</span>
<span class='curline'><a href='../S/170.html#L849'>P</a>                 849 syn/syntax-p5.c   yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L863'>P</a>                 863 syn/syntax-p5.c                   yy = potion_decimal(P, yytext, yyleng);</span>
<span class='curline'><a href='../S/170.html#L894'>P</a>                 894 syn/syntax-p5.c   yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/170.html#L1947'>P</a>                1947 syn/syntax-p5.c   yy = P-&gt;source = PN_AST(CODE, s); ;</span>
<span class='curline'><a href='../S/170.html#L6802'>P</a>                6802 syn/syntax-p5.c PN p2_parse(Potion *P, PN code, char *filename) {</span>
<span class='curline'><a href='../S/170.html#L6803'>P</a>                6803 syn/syntax-p5.c   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/170.html#L6804'>P</a>                6804 syn/syntax-p5.c   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/170.html#L6805'>P</a>                6805 syn/syntax-p5.c   P-&gt;input = code;</span>
<span class='curline'><a href='../S/170.html#L6806'>P</a>                6806 syn/syntax-p5.c   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/170.html#L6807'>P</a>                6807 syn/syntax-p5.c   P-&gt;pbuf = potion_asm_new(P);</span>
<span class='curline'><a href='../S/170.html#L6809'>P</a>                6809 syn/syntax-p5.c   yydebug = P-&gt;flags &amp; (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/170.html#L6819'>P</a>                6819 syn/syntax-p5.c   code = P-&gt;source;</span>
<span class='curline'><a href='../S/170.html#L6820'>P</a>                6820 syn/syntax-p5.c   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/170.html#L6825'>P</a>                6825 syn/syntax-p5.c PN potion_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/170.html#L6830'>P</a>                6830 syn/syntax-p5.c   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/170.html#L6831'>P</a>                6831 syn/syntax-p5.c   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/170.html#L6832'>P</a>                6832 syn/syntax-p5.c   P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/170.html#L6833'>P</a>                6833 syn/syntax-p5.c   P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/170.html#L6834'>P</a>                6834 syn/syntax-p5.c   P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/170.html#L6840'>P</a>                6840 syn/syntax-p5.c   out = P-&gt;source;</span>
<span class='curline'><a href='../S/170.html#L6841'>P</a>                6841 syn/syntax-p5.c   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/170.html#L6845'>P</a>                6845 syn/syntax-p5.c PN p2_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/170.html#L6850'>P</a>                6850 syn/syntax-p5.c   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/170.html#L6851'>P</a>                6851 syn/syntax-p5.c   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/170.html#L6852'>P</a>                6852 syn/syntax-p5.c   P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/170.html#L6853'>P</a>                6853 syn/syntax-p5.c   P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/170.html#L6854'>P</a>                6854 syn/syntax-p5.c   P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/170.html#L6860'>P</a>                6860 syn/syntax-p5.c   out = P-&gt;source;</span>
<span class='curline'><a href='../S/170.html#L6861'>P</a>                6861 syn/syntax-p5.c   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/170.html#L6865'>P</a>                6865 syn/syntax-p5.c int potion_sig_find(Potion *P, PN cl, PN name)</span>
<span class='curline'><a href='../S/170.html#L6870'>P</a>                6870 syn/syntax-p5.c     cl = potion_obj_get_call(P, cl);</span>
<span class='curline'><a href='../S/167.html#L19'>P</a>                  19 syn/syntax-p5.y #define YY_XVAR P</span>
<span class='curline'><a href='../S/167.html#L22'>P</a>                  22 syn/syntax-p5.y   YY_XTYPE P = G-&gt;data; \</span>
<span class='curline'><a href='../S/167.html#L23'>P</a>                  23 syn/syntax-p5.y   if (P-&gt;yypos &lt; PN_STR_LEN(P-&gt;input)) { \</span>
<span class='curline'><a href='../S/167.html#L25'>P</a>                  25 syn/syntax-p5.y     if (P-&gt;yypos + max &gt; PN_STR_LEN(P-&gt;input)) \</span>
<span class='curline'><a href='../S/167.html#L26'>P</a>                  26 syn/syntax-p5.y       result = (PN_STR_LEN(P-&gt;input) - P-&gt;yypos); \</span>
<span class='curline'><a href='../S/167.html#L27'>P</a>                  27 syn/syntax-p5.y     PN_MEMCPY_N(buf, PN_STR_PTR(P-&gt;input) + P-&gt;yypos, char, result + 1); \</span>
<span class='curline'><a href='../S/167.html#L28'>P</a>                  28 syn/syntax-p5.y     P-&gt;yypos += max; \</span>
<span class='curline'><a href='../S/167.html#L43'>P</a>                  43 syn/syntax-p5.y # define YY_SET(G, text, count, thunk, P) \</span>
<span class='curline'><a href='../S/167.html#L52'>P</a>                  52 syn/syntax-p5.y perl5 = -- s:statements end-of-file { $$ = P-&gt;source = PN_AST(CODE, s); }</span>
<span class='curline'><a href='../S/167.html#L241'>P</a>                 241 syn/syntax-p5.y #path = '/' &lt; utfw+ &gt; -       { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L242'>P</a>                 242 syn/syntax-p5.y #path    = &lt; utfw+ &gt; -   { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L243'>P</a>                 243 syn/syntax-p5.y message = &lt; utfw+ &gt; -   { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L257'>P</a>                 257 syn/syntax-p5.y                   $$ = potion_decimal(P, yytext, yyleng);</span>
<span class='curline'><a href='../S/167.html#L263'>P</a>                 263 syn/syntax-p5.y id = &lt; IDFIRST utfw* &gt; { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L269'>P</a>                 269 syn/syntax-p5.y         { $$ = PN_AST2(LICK, potion_strcat(P,"@",PN_STR_PTR(l)), i); }</span>
<span class='curline'><a href='../S/167.html#L271'>P</a>                 271 syn/syntax-p5.y         { $$ = PN_AST2(LICK, potion_strcat(P,"%",PN_STR_PTR(h)), i); }</span>
<span class='curline'><a href='../S/167.html#L606'>P</a>                 606 syn/syntax-p5.y c1 = &lt; (!q1 utf8)+ &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L607'>P</a>                 607 syn/syntax-p5.y str1 = q1 { P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/167.html#L608'>P</a>                 608 syn/syntax-p5.y        &lt; (q1 q1 { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "'", 1); } | c1)* &gt;</span>
<span class='curline'><a href='../S/167.html#L609'>P</a>                 609 syn/syntax-p5.y        q1 { $$ = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/167.html#L612'>P</a>                 612 syn/syntax-p5.y escn        = esc 'n' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\n", 1); }</span>
<span class='curline'><a href='../S/167.html#L613'>P</a>                 613 syn/syntax-p5.y escb        = esc 'b' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\b", 1); }</span>
<span class='curline'><a href='../S/167.html#L614'>P</a>                 614 syn/syntax-p5.y escf        = esc 'f' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\f", 1); }</span>
<span class='curline'><a href='../S/167.html#L615'>P</a>                 615 syn/syntax-p5.y escr        = esc 'r' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\r", 1); }</span>
<span class='curline'><a href='../S/167.html#L616'>P</a>                 616 syn/syntax-p5.y esct        = esc 't' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\t", 1); }</span>
<span class='curline'><a href='../S/167.html#L631'>P</a>                 631 syn/syntax-p5.y   P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, utfc, nbuf);</span>
<span class='curline'><a href='../S/167.html#L633'>P</a>                 633 syn/syntax-p5.y escc = esc &lt; utf8 &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L636'>P</a>                 636 syn/syntax-p5.y e2 = '\\' ["] { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\"", 1); }</span>
<span class='curline'><a href='../S/167.html#L637'>P</a>                 637 syn/syntax-p5.y c2 = &lt; (!q2 !esc utf8)+ &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L638'>P</a>                 638 syn/syntax-p5.y str2 = q2 { P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/167.html#L640'>P</a>                 640 syn/syntax-p5.y        q2 { $$ = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/167.html#L647'>P</a>                 647 syn/syntax-p5.y unquoted = &lt; (!unq-sep !lick-end unq-char)+ &gt; { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L667'>P</a>                 667 syn/syntax-p5.y arg-name = &lt; utfw+ &gt; - { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L672'>P</a>                 672 syn/syntax-p5.y                        { P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source, n), t), PN_NIL); }</span>
<span class='curline'><a href='../S/167.html#L673'>P</a>                 673 syn/syntax-p5.y     | t:arg-type       { P-&gt;source = PN_PUSH(P-&gt;source, t); }</span>
<span class='curline'><a href='../S/167.html#L674'>P</a>                 674 syn/syntax-p5.y optional = '|' -       { P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('|')); }</span>
<span class='curline'><a href='../S/167.html#L675'>P</a>                 675 syn/syntax-p5.y arg-sep = '.' -        { P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('.')); }</span>
<span class='curline'><a href='../S/167.html#L684'>P</a>                 684 syn/syntax-p5.y arg2-name = &lt; [$@%] id &gt; - { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/167.html#L686'>P</a>                 686 syn/syntax-p5.y arg2-type = i:id space+  { $$ = potion_class_find(P, i); if (!$$) yyerror(G,"Invalid type"); }</span>
<span class='curline'><a href='../S/167.html#L687'>P</a>                 687 syn/syntax-p5.y arg2 = n:arg2-name  { P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source?P-&gt;source:PN_TUP0(), n), potion_str(P,"O")), PN_NIL); }</span>
<span class='curline'><a href='../S/167.html#L688'>P</a>                 688 syn/syntax-p5.y     | t:arg2-type n:arg2-name { P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source?P-&gt;source:PN_TUP0(), n), t), PN_NIL); }</span>
<span class='curline'><a href='../S/167.html#L692'>P</a>                 692 syn/syntax-p5.y PN p2_parse(Potion *P, PN code, char *filename) {</span>
<span class='curline'><a href='../S/167.html#L693'>P</a>                 693 syn/syntax-p5.y   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/167.html#L694'>P</a>                 694 syn/syntax-p5.y   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/167.html#L695'>P</a>                 695 syn/syntax-p5.y   P-&gt;input = code;</span>
<span class='curline'><a href='../S/167.html#L696'>P</a>                 696 syn/syntax-p5.y   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/167.html#L697'>P</a>                 697 syn/syntax-p5.y   P-&gt;pbuf = potion_asm_new(P);</span>
<span class='curline'><a href='../S/167.html#L699'>P</a>                 699 syn/syntax-p5.y   yydebug = P-&gt;flags &amp; (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/167.html#L709'>P</a>                 709 syn/syntax-p5.y   code = P-&gt;source;</span>
<span class='curline'><a href='../S/167.html#L710'>P</a>                 710 syn/syntax-p5.y   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/167.html#L715'>P</a>                 715 syn/syntax-p5.y PN potion_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/167.html#L720'>P</a>                 720 syn/syntax-p5.y   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/167.html#L721'>P</a>                 721 syn/syntax-p5.y   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/167.html#L722'>P</a>                 722 syn/syntax-p5.y   P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/167.html#L723'>P</a>                 723 syn/syntax-p5.y   P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/167.html#L724'>P</a>                 724 syn/syntax-p5.y   P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/167.html#L730'>P</a>                 730 syn/syntax-p5.y   out = P-&gt;source;</span>
<span class='curline'><a href='../S/167.html#L731'>P</a>                 731 syn/syntax-p5.y   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/167.html#L735'>P</a>                 735 syn/syntax-p5.y PN p2_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/167.html#L740'>P</a>                 740 syn/syntax-p5.y   GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/167.html#L741'>P</a>                 741 syn/syntax-p5.y   P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/167.html#L742'>P</a>                 742 syn/syntax-p5.y   P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/167.html#L743'>P</a>                 743 syn/syntax-p5.y   P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/167.html#L744'>P</a>                 744 syn/syntax-p5.y   P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/167.html#L750'>P</a>                 750 syn/syntax-p5.y   out = P-&gt;source;</span>
<span class='curline'><a href='../S/167.html#L751'>P</a>                 751 syn/syntax-p5.y   P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/167.html#L755'>P</a>                 755 syn/syntax-p5.y int potion_sig_find(Potion *P, PN cl, PN name)</span>
<span class='curline'><a href='../S/167.html#L760'>P</a>                 760 syn/syntax-p5.y     cl = potion_obj_get_call(P, cl);</span>
<span class='curline'><a href='../S/169.html#L16'>P</a>                  16 syn/syntax.c   #define YY_XVAR P</span>
<span class='curline'><a href='../S/169.html#L19'>P</a>                  19 syn/syntax.c     YY_XTYPE P = G-&gt;data; \</span>
<span class='curline'><a href='../S/169.html#L20'>P</a>                  20 syn/syntax.c     if (P-&gt;yypos &lt; PN_STR_LEN(P-&gt;input)) { \</span>
<span class='curline'><a href='../S/169.html#L22'>P</a>                  22 syn/syntax.c       if (P-&gt;yypos + max &gt; PN_STR_LEN(P-&gt;input)) \</span>
<span class='curline'><a href='../S/169.html#L23'>P</a>                  23 syn/syntax.c         result = (PN_STR_LEN(P-&gt;input) - P-&gt;yypos); \</span>
<span class='curline'><a href='../S/169.html#L24'>P</a>                  24 syn/syntax.c       PN_MEMCPY_N(buf, PN_STR_PTR(P-&gt;input) + P-&gt;yypos, char, result + 1); \</span>
<span class='curline'><a href='../S/169.html#L25'>P</a>                  25 syn/syntax.c       P-&gt;yypos += max; \</span>
<span class='curline'><a href='../S/169.html#L514'>P</a>                 514 syn/syntax.c     P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('.')); ;</span>
<span class='curline'><a href='../S/169.html#L521'>P</a>                 521 syn/syntax.c     P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('|')); ;</span>
<span class='curline'><a href='../S/169.html#L530'>P</a>                 530 syn/syntax.c     P-&gt;source = PN_PUSH(P-&gt;source, t); ;</span>
<span class='curline'><a href='../S/169.html#L541'>P</a>                 541 syn/syntax.c     P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source, n), t), PN_NIL); ;</span>
<span class='curline'><a href='../S/169.html#L557'>P</a>                 557 syn/syntax.c     yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L564'>P</a>                 564 syn/syntax.c     yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L571'>P</a>                 571 syn/syntax.c     yy = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/169.html#L578'>P</a>                 578 syn/syntax.c     P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/169.html#L585'>P</a>                 585 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L592'>P</a>                 592 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\"", 1); ;</span>
<span class='curline'><a href='../S/169.html#L599'>P</a>                 599 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L635'>P</a>                 635 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, utfc, nbuf);</span>
<span class='curline'><a href='../S/169.html#L643'>P</a>                 643 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\t", 1); ;</span>
<span class='curline'><a href='../S/169.html#L650'>P</a>                 650 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\r", 1); ;</span>
<span class='curline'><a href='../S/169.html#L657'>P</a>                 657 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\f", 1); ;</span>
<span class='curline'><a href='../S/169.html#L664'>P</a>                 664 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\b", 1); ;</span>
<span class='curline'><a href='../S/169.html#L671'>P</a>                 671 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\n", 1); ;</span>
<span class='curline'><a href='../S/169.html#L678'>P</a>                 678 syn/syntax.c     yy = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/169.html#L685'>P</a>                 685 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "'", 1); ;</span>
<span class='curline'><a href='../S/169.html#L692'>P</a>                 692 syn/syntax.c     P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); ;</span>
<span class='curline'><a href='../S/169.html#L699'>P</a>                 699 syn/syntax.c     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L734'>P</a>                 734 syn/syntax.c                     yy = potion_decimal(P, yytext, yyleng);</span>
<span class='curline'><a href='../S/169.html#L779'>P</a>                 779 syn/syntax.c     yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L786'>P</a>                 786 syn/syntax.c     yy = potion_str2(P, yytext, yyleng); ;</span>
<span class='curline'><a href='../S/169.html#L1669'>P</a>                1669 syn/syntax.c     yy = P-&gt;source = PN_AST(CODE, s); ;</span>
<span class='curline'><a href='../S/169.html#L4758'>P</a>                4758 syn/syntax.c   PN potion_parse(Potion *P, PN code, char *filename) {</span>
<span class='curline'><a href='../S/169.html#L4759'>P</a>                4759 syn/syntax.c     GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/169.html#L4760'>P</a>                4760 syn/syntax.c     P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/169.html#L4761'>P</a>                4761 syn/syntax.c     P-&gt;input = code;</span>
<span class='curline'><a href='../S/169.html#L4762'>P</a>                4762 syn/syntax.c     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/169.html#L4763'>P</a>                4763 syn/syntax.c     P-&gt;pbuf = potion_asm_new(P);</span>
<span class='curline'><a href='../S/169.html#L4765'>P</a>                4765 syn/syntax.c     yydebug = P-&gt;flags &amp; (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/169.html#L4775'>P</a>                4775 syn/syntax.c     code = P-&gt;source;</span>
<span class='curline'><a href='../S/169.html#L4776'>P</a>                4776 syn/syntax.c     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/169.html#L4780'>P</a>                4780 syn/syntax.c   PN potion_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/169.html#L4785'>P</a>                4785 syn/syntax.c     GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/169.html#L4786'>P</a>                4786 syn/syntax.c     P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/169.html#L4787'>P</a>                4787 syn/syntax.c     P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/169.html#L4788'>P</a>                4788 syn/syntax.c     P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/169.html#L4789'>P</a>                4789 syn/syntax.c     P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/169.html#L4795'>P</a>                4795 syn/syntax.c     out = P-&gt;source;</span>
<span class='curline'><a href='../S/169.html#L4796'>P</a>                4796 syn/syntax.c     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/169.html#L4800'>P</a>                4800 syn/syntax.c   int potion_sig_find(Potion *P, PN cl, PN name)</span>
<span class='curline'><a href='../S/169.html#L4805'>P</a>                4805 syn/syntax.c       cl = potion_obj_get_call(P, cl);</span>
<span class='curline'><a href='../S/168.html#L17'>P</a>                  17 syn/syntax.y   #define YY_XVAR P</span>
<span class='curline'><a href='../S/168.html#L20'>P</a>                  20 syn/syntax.y     YY_XTYPE P = G-&gt;data; \</span>
<span class='curline'><a href='../S/168.html#L21'>P</a>                  21 syn/syntax.y     if (P-&gt;yypos &lt; PN_STR_LEN(P-&gt;input)) { \</span>
<span class='curline'><a href='../S/168.html#L23'>P</a>                  23 syn/syntax.y       if (P-&gt;yypos + max &gt; PN_STR_LEN(P-&gt;input)) \</span>
<span class='curline'><a href='../S/168.html#L24'>P</a>                  24 syn/syntax.y         result = (PN_STR_LEN(P-&gt;input) - P-&gt;yypos); \</span>
<span class='curline'><a href='../S/168.html#L25'>P</a>                  25 syn/syntax.y       PN_MEMCPY_N(buf, PN_STR_PTR(P-&gt;input) + P-&gt;yypos, char, result + 1); \</span>
<span class='curline'><a href='../S/168.html#L26'>P</a>                  26 syn/syntax.y       P-&gt;yypos += max; \</span>
<span class='curline'><a href='../S/168.html#L41'>P</a>                  41 syn/syntax.y   potion = -- s:statements end-of-file { $$ = P-&gt;source = PN_AST(CODE, s); }</span>
<span class='curline'><a href='../S/168.html#L155'>P</a>                 155 syn/syntax.y   path = '/' &lt; utfw+ &gt; -       { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L156'>P</a>                 156 syn/syntax.y   message = &lt; utfw+ '?'? &gt; -   { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L169'>P</a>                 169 syn/syntax.y                     $$ = potion_decimal(P, yytext, yyleng);</span>
<span class='curline'><a href='../S/168.html#L230'>P</a>                 230 syn/syntax.y   c1 = &lt; (!q1 utf8)+ &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L231'>P</a>                 231 syn/syntax.y   str1 = q1 { P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/168.html#L232'>P</a>                 232 syn/syntax.y          &lt; (q1 q1 { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "'", 1); } | c1)* &gt;</span>
<span class='curline'><a href='../S/168.html#L233'>P</a>                 233 syn/syntax.y          q1 { $$ = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/168.html#L236'>P</a>                 236 syn/syntax.y   escn        = esc 'n' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\n", 1); }</span>
<span class='curline'><a href='../S/168.html#L237'>P</a>                 237 syn/syntax.y   escb        = esc 'b' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\b", 1); }</span>
<span class='curline'><a href='../S/168.html#L238'>P</a>                 238 syn/syntax.y   escf        = esc 'f' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\f", 1); }</span>
<span class='curline'><a href='../S/168.html#L239'>P</a>                 239 syn/syntax.y   escr        = esc 'r' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\r", 1); }</span>
<span class='curline'><a href='../S/168.html#L240'>P</a>                 240 syn/syntax.y   esct        = esc 't' { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\t", 1); }</span>
<span class='curline'><a href='../S/168.html#L255'>P</a>                 255 syn/syntax.y     P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, utfc, nbuf);</span>
<span class='curline'><a href='../S/168.html#L257'>P</a>                 257 syn/syntax.y   escc = esc &lt; utf8 &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L260'>P</a>                 260 syn/syntax.y   e2 = '\\' ["] { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, "\"", 1); }</span>
<span class='curline'><a href='../S/168.html#L261'>P</a>                 261 syn/syntax.y   c2 = &lt; (!q2 !esc utf8)+ &gt; { P-&gt;pbuf = potion_asm_write(P, P-&gt;pbuf, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L262'>P</a>                 262 syn/syntax.y   str2 = q2 { P-&gt;pbuf = potion_asm_clear(P, P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/168.html#L264'>P</a>                 264 syn/syntax.y          q2 { $$ = potion_bytes_string(P, PN_NIL, (PN)P-&gt;pbuf); }</span>
<span class='curline'><a href='../S/168.html#L271'>P</a>                 271 syn/syntax.y   unquoted = &lt; (!unq-sep !lick-end unq-char)+ &gt; { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L287'>P</a>                 287 syn/syntax.y   arg-name = &lt; utfw+ &gt; - { $$ = potion_str2(P, yytext, yyleng); }</span>
<span class='curline'><a href='../S/168.html#L291'>P</a>                 291 syn/syntax.y                          { P-&gt;source = PN_PUSH(PN_PUSH(PN_PUSH(P-&gt;source, n), t), PN_NIL); }</span>
<span class='curline'><a href='../S/168.html#L292'>P</a>                 292 syn/syntax.y       | t:arg-type       { P-&gt;source = PN_PUSH(P-&gt;source, t); }</span>
<span class='curline'><a href='../S/168.html#L293'>P</a>                 293 syn/syntax.y   optional = '|' -       { P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('|')); }</span>
<span class='curline'><a href='../S/168.html#L294'>P</a>                 294 syn/syntax.y   arg-sep = '.' -        { P-&gt;source = PN_PUSH(P-&gt;source, PN_NUM('.')); }</span>
<span class='curline'><a href='../S/168.html#L298'>P</a>                 298 syn/syntax.y   PN potion_parse(Potion *P, PN code, char *filename) {</span>
<span class='curline'><a href='../S/168.html#L299'>P</a>                 299 syn/syntax.y     GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/168.html#L300'>P</a>                 300 syn/syntax.y     P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/168.html#L301'>P</a>                 301 syn/syntax.y     P-&gt;input = code;</span>
<span class='curline'><a href='../S/168.html#L302'>P</a>                 302 syn/syntax.y     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/168.html#L303'>P</a>                 303 syn/syntax.y     P-&gt;pbuf = potion_asm_new(P);</span>
<span class='curline'><a href='../S/168.html#L305'>P</a>                 305 syn/syntax.y     yydebug = P-&gt;flags &amp; (DEBUG_PARSE | DEBUG_PARSE_VERBOSE);</span>
<span class='curline'><a href='../S/168.html#L315'>P</a>                 315 syn/syntax.y     code = P-&gt;source;</span>
<span class='curline'><a href='../S/168.html#L316'>P</a>                 316 syn/syntax.y     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/168.html#L320'>P</a>                 320 syn/syntax.y   PN potion_sig(Potion *P, char *fmt) {</span>
<span class='curline'><a href='../S/168.html#L325'>P</a>                 325 syn/syntax.y     GREG *G = YY_NAME(parse_new)(P);</span>
<span class='curline'><a href='../S/168.html#L326'>P</a>                 326 syn/syntax.y     P-&gt;yypos = 0;</span>
<span class='curline'><a href='../S/168.html#L327'>P</a>                 327 syn/syntax.y     P-&gt;input = potion_byte_str(P, fmt);</span>
<span class='curline'><a href='../S/168.html#L328'>P</a>                 328 syn/syntax.y     P-&gt;source = out = PN_TUP0();</span>
<span class='curline'><a href='../S/168.html#L329'>P</a>                 329 syn/syntax.y     P-&gt;pbuf = NULL;</span>
<span class='curline'><a href='../S/168.html#L335'>P</a>                 335 syn/syntax.y     out = P-&gt;source;</span>
<span class='curline'><a href='../S/168.html#L336'>P</a>                 336 syn/syntax.y     P-&gt;source = PN_NIL;</span>
<span class='curline'><a href='../S/168.html#L340'>P</a>                 340 syn/syntax.y   int potion_sig_find(Potion *P, PN cl, PN name)</span>
<span class='curline'><a href='../S/168.html#L345'>P</a>                 345 syn/syntax.y       cl = potion_obj_get_call(P, cl);</span>
<span class='curline'><a href='../S/55.html#L20'>P</a>                  20 test/api/gc-bench.c Potion *P;</span>
<span class='curline'><a href='../S/55.html#L32'>P</a>                  32 test/api/gc-bench.c #define ALLOC_NODE() (PN)potion_gc_alloc(P, tree_type, sizeof(struct PNObject)+ (2*sizeof(PN)))</span>
<span class='curline'><a href='../S/55.html#L57'>P</a>                  57 test/api/gc-bench.c   potion_obj_set(P, PN_NIL, (PN)x, PN_left, l);</span>
<span class='curline'><a href='../S/55.html#L58'>P</a>                  58 test/api/gc-bench.c   potion_obj_set(P, PN_NIL, (PN)x, PN_right, r);</span>
<span class='curline'><a href='../S/55.html#L67'>P</a>                  67 test/api/gc-bench.c   potion_obj_set(P, PN_NIL, node, PN_left, ALLOC_NODE());</span>
<span class='curline'><a href='../S/55.html#L72'>P</a>                  72 test/api/gc-bench.c   potion_obj_set(P, PN_NIL, node, PN_right, ALLOC_NODE());</span>
<span class='curline'><a href='../S/55.html#L77'>P</a>                  77 test/api/gc-bench.c   gc_populate_tree(potion_obj_get(P, PN_NIL, node, PN_left), depth, PN_left, PN_right);</span>
<span class='curline'><a href='../S/55.html#L78'>P</a>                  78 test/api/gc-bench.c   gc_populate_tree(potion_obj_get(P, PN_NIL, node, PN_right), depth, PN_left, PN_right);</span>
<span class='curline'><a href='../S/55.html#L96'>P</a>                  96 test/api/gc-bench.c   P = potion_create(sp);</span>
<span class='curline'><a href='../S/55.html#L97'>P</a>                  97 test/api/gc-bench.c   ary = potion_tuple_with_size(P, 2);</span>
<span class='curline'><a href='../S/55.html#L98'>P</a>                  98 test/api/gc-bench.c   PN_TUPLE_AT(ary, 0) = PN_left = potion_str(P, "left");</span>
<span class='curline'><a href='../S/55.html#L99'>P</a>                  99 test/api/gc-bench.c   PN_TUPLE_AT(ary, 1) = PN_right = potion_str(P, "right");</span>
<span class='curline'><a href='../S/55.html#L100'>P</a>                 100 test/api/gc-bench.c   klass = potion_class(P, PN_NIL, P-&gt;lobby, ary);</span>
<span class='curline'><a href='../S/55.html#L115'>P</a>                 115 test/api/gc-bench.c   ary = potion_tuple_with_size(P, array_size);</span>
<span class='curline'><a href='../S/55.html#L148'>P</a>                 148 test/api/gc-bench.c 	  P-&gt;mem-&gt;minors, P-&gt;mem-&gt;majors,</span>
<span class='curline'><a href='../S/55.html#L152'>P</a>                 152 test/api/gc-bench.c   potion_destroy(P);</span>
<span class='curline'><a href='../S/57.html#L17'>P</a>                  17 test/api/gc-test.c Potion *P;</span>
<span class='curline'><a href='../S/57.html#L20'>P</a>                  20 test/api/gc-test.c   CuAssert(T, "GC struct isn't at start of first page", P-&gt;mem == P-&gt;mem-&gt;birth_lo);</span>
<span class='curline'><a href='../S/57.html#L21'>P</a>                  21 test/api/gc-test.c   CuAssert(T, "stack length is not a positive number", potion_stack_len(P, NULL) &gt; 0);</span>
<span class='curline'><a href='../S/57.html#L29'>P</a>                  29 test/api/gc-test.c   PN ptr = (PN)potion_gc_alloc(P, PN_TUSER, 16);</span>
<span class='curline'><a href='../S/57.html#L30'>P</a>                  30 test/api/gc-test.c   PN_SIZE count = potion_mark_stack(P, 0);</span>
<span class='curline'><a href='../S/57.html#L36'>P</a>                  36 test/api/gc-test.c   PN ptr = (PN)potion_gc_alloc(P, PN_TUSER, 16);</span>
<span class='curline'><a href='../S/57.html#L37'>P</a>                  37 test/api/gc-test.c   PN ptr2 = (PN)potion_gc_alloc(P, PN_TUSER, 16);</span>
<span class='curline'><a href='../S/57.html#L38'>P</a>                  38 test/api/gc-test.c   PN ptr3 = (PN)potion_gc_alloc(P, PN_TUSER, 16);</span>
<span class='curline'><a href='../S/57.html#L39'>P</a>                  39 test/api/gc-test.c   PN ptr4 = (PN)potion_gc_alloc(P, PN_TUSER, 16);</span>
<span class='curline'><a href='../S/57.html#L40'>P</a>                  40 test/api/gc-test.c   PN_SIZE count = potion_mark_stack(P, 0);</span>
<span class='curline'><a href='../S/57.html#L50'>P</a>                  50 test/api/gc-test.c   vPN(Data) ptr = potion_data_alloc(P, 16);</span>
<span class='curline'><a href='../S/57.html#L54'>P</a>                  54 test/api/gc-test.c   potion_mark_stack(P, 1);</span>
<span class='curline'><a href='../S/57.html#L75'>P</a>                  75 test/api/gc-test.c   P = potion_gc_boot(sp);</span>
<span class='curline'><a href='../S/57.html#L76'>P</a>                  76 test/api/gc-test.c   if (P-&gt;mem-&gt;old_lo == NULL) {</span>
<span class='curline'><a href='../S/57.html#L77'>P</a>                  77 test/api/gc-test.c     struct PNMemory *M = P-&gt;mem;</span>
<span class='curline'><a href='../S/58.html#L18'>P</a>                  18 test/api/p2-test.c Potion *P;</span>
<span class='curline'><a href='../S/58.html#L26'>P</a>                  26 test/api/p2-test.c     PN_FALSE == potion_send(PN_NIL, potion_str(P, "defined")));</span>
<span class='curline'><a href='../S/58.html#L29'>P</a>                  29 test/api/p2-test.c     PN_TRUE == potion_send(num, potion_str(P, "defined")));</span>
<span class='curline'><a href='../S/58.html#L39'>P</a>                  39 test/api/p2-test.c     490 == PN_INT(potion_send(zero, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/58.html#L48'>P</a>                  48 test/api/p2-test.c     11381 == PN_INT(potion_send(pos, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/58.html#L57'>P</a>                  57 test/api/p2-test.c     -3853 == PN_INT(potion_send(neg, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/58.html#L61'>P</a>                  61 test/api/p2-test.c   PN dec = potion_decimal(P, "14466", 5);</span>
<span class='curline'><a href='../S/58.html#L69'>P</a>                  69 test/api/p2-test.c     6 == PN_INT(potion_send(PN_string, potion_str(P, "length"))));</span>
<span class='curline'><a href='../S/58.html#L77'>P</a>                  77 test/api/p2-test.c     PN_INT(potion_send(empty, potion_str(P, "length"))), 0);</span>
<span class='curline'><a href='../S/58.html#L81'>P</a>                  81 test/api/p2-test.c   PN tup = potion_tuple_with_size(P, 3);</span>
<span class='curline'><a href='../S/58.html#L88'>P</a>                  88 test/api/p2-test.c     PN_INT(potion_send(tup, potion_str(P, "length"))), 3);</span>
<span class='curline'><a href='../S/58.html#L92'>P</a>                  92 test/api/p2-test.c   PN sig = p2_sig(P, "Num $num1, Num $num2");</span>
<span class='curline'><a href='../S/58.html#L95'>P</a>                  95 test/api/p2-test.c   sig = p2_sig(P, "$x,$y|$r");</span>
<span class='curline'><a href='../S/58.html#L100'>P</a>                 100 test/api/p2-test.c   PN add = p2_eval(P, potion_str(P, "sub($x,$y){$x+$y}"), POTION_JIT);</span>
<span class='curline'><a href='../S/58.html#L102'>P</a>                 102 test/api/p2-test.c   PN num = addfn(P, add, 0, PN_NUM(3), PN_NUM(5));</span>
<span class='curline'><a href='../S/58.html#L108'>P</a>                 108 test/api/p2-test.c   void *scanptr = (void *)((char *)P-&gt;mem-&gt;birth_lo + PN_ALIGN(sizeof(struct PNMemory), 8));</span>
<span class='curline'><a href='../S/58.html#L109'>P</a>                 109 test/api/p2-test.c   while ((PN)scanptr &lt; (PN)P-&gt;mem-&gt;birth_cur) {</span>
<span class='curline'><a href='../S/58.html#L113'>P</a>                 113 test/api/p2-test.c     scanptr = (void *)((char *)scanptr + potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/58.html#L114'>P</a>                 114 test/api/p2-test.c     CuAssert(T, "allocated object goes beyond GC pointer", (PN)scanptr &lt;= (PN)P-&gt;mem-&gt;birth_cur);</span>
<span class='curline'><a href='../S/58.html#L138'>P</a>                 138 test/api/p2-test.c   P = potion_create(sp);</span>
<span class='curline'><a href='../S/54.html#L16'>P</a>                  16 test/api/potion-test.c Potion *P;</span>
<span class='curline'><a href='../S/54.html#L22'>P</a>                  22 test/api/potion-test.c     PN_TRUE == potion_send(PN_NIL, potion_str(P, "nil?")));</span>
<span class='curline'><a href='../S/54.html#L38'>P</a>                  38 test/api/potion-test.c     490 == PN_INT(potion_send(zero, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/54.html#L47'>P</a>                  47 test/api/potion-test.c     11381 == PN_INT(potion_send(pos, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/54.html#L56'>P</a>                  56 test/api/potion-test.c     -3853 == PN_INT(potion_send(neg, potion_str(P, "+"), num)));</span>
<span class='curline'><a href='../S/54.html#L60'>P</a>                  60 test/api/potion-test.c   PN dec = potion_decimal(P, "14466", 5);</span>
<span class='curline'><a href='../S/54.html#L68'>P</a>                  68 test/api/potion-test.c     6 == PN_INT(potion_send(PN_string, potion_str(P, "length"))));</span>
<span class='curline'><a href='../S/54.html#L76'>P</a>                  76 test/api/potion-test.c     PN_INT(potion_send(empty, potion_str(P, "length"))), 0);</span>
<span class='curline'><a href='../S/54.html#L80'>P</a>                  80 test/api/potion-test.c   PN tup = potion_tuple_with_size(P, 3);</span>
<span class='curline'><a href='../S/54.html#L87'>P</a>                  87 test/api/potion-test.c     PN_INT(potion_send(tup, potion_str(P, "length"))), 3);</span>
<span class='curline'><a href='../S/54.html#L91'>P</a>                  91 test/api/potion-test.c   PN sig = potion_sig(P, "num1=N,num2=N");</span>
<span class='curline'><a href='../S/54.html#L94'>P</a>                  94 test/api/potion-test.c   sig = potion_sig(P, "x=N,y=N|r=N");</span>
<span class='curline'><a href='../S/54.html#L99'>P</a>                  99 test/api/potion-test.c   PN add = potion_eval(P, potion_str(P, "(x, y): x + y."), POTION_JIT);</span>
<span class='curline'><a href='../S/54.html#L101'>P</a>                 101 test/api/potion-test.c   PN num = addfn(P, add, 0, PN_NUM(3), PN_NUM(5));</span>
<span class='curline'><a href='../S/54.html#L107'>P</a>                 107 test/api/potion-test.c   void *scanptr = (void *)((char *)P-&gt;mem-&gt;birth_lo + PN_ALIGN(sizeof(struct PNMemory), 8));</span>
<span class='curline'><a href='../S/54.html#L108'>P</a>                 108 test/api/potion-test.c   while ((PN)scanptr &lt; (PN)P-&gt;mem-&gt;birth_cur) {</span>
<span class='curline'><a href='../S/54.html#L112'>P</a>                 112 test/api/potion-test.c     scanptr = (void *)((char *)scanptr + potion_type_size(P, scanptr));</span>
<span class='curline'><a href='../S/54.html#L113'>P</a>                 113 test/api/potion-test.c     CuAssert(T, "allocated object goes beyond GC pointer", (PN)scanptr &lt;= (PN)P-&gt;mem-&gt;birth_cur);</span>
<span class='curline'><a href='../S/54.html#L137'>P</a>                 137 test/api/potion-test.c   P = potion_create(sp);</span>
</pre>
</body>
</html>
